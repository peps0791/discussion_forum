<html>
	<head>
		<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
		<script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="  crossorigin="anonymous"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
		<link rel="stylesheet" href="/style.css"/>
		<script src="/commons.js"></script>
		<title id = 'pagetitle'>Bug on linking to a specific answer within a question: Firefox   AskDifferent
		</title>
	<head>
	<body id = 'pagebody'>
		<div class = "container">
			<header>
				<h1>Just Another Discussion Forum</h1>
			</header>
			<div class="topnav" id="myTopnav">
				<a href="/home">Home</a>
				<a href="#" style = "float:right;">About</a>
				<a href="#" style = "float:right;">Preferences</a>
				<a href="#" style = "float:right;">Profile Link</a>
			</div>
			<div class = "content">
			<div id = "ques-1772" class = "post">
			<h2>Question</h2>
			<h3>Score ::4</h3>
			<h3>Views ::123</h3>
				<h2>Bug on linking to a specific answer within a question: Firefox   AskDifferent</h2>
<p>This question is related to: <a href="https://apple.meta.stackexchange.com/q/1698">How do I link to a specific answer?</a>.</p>

<p>Within the set of answers (to a specific question) I may represent like this:</p>

<ol>
<li><pre><code>Question 59917
</code></pre></li>
<li><pre><code>Answer   59918
</code></pre></li>
<li><pre><code>Answer   87982
</code></pre></li>
</ol>

<p>I want to use a link toward answer n 3 (which is technically the one which I'd like to refer to because of its technical level).</p>

<p>This function exists, but differential tests (with other Stack Exchange groups and with other browsers) show that there is a relationnal problem between Firefox and Stack Exchange Ask Differnet group. </p>

<p>Look at this particular answer <a href="https://apple.stackexchange.com/a/87982">https://apple.stackexchange.com/a/87982</a>
as an example of what I'd like to be able to use.
Within Firefox I'm getting to<a href="https://apple.stackexchange.com/a/59918">https://apple.stackexchange.com/a/59918</a>.</p>

			</div><h3>Comments</h3>
			<div id = "comment-3322" class = "comment">
				<p>If I click on the link in your question, I get to the answer titled "Apple sysdiagnose". Is this the right one?</p>
			</div>
			<div id = "comment-3323" class = "comment">
				<p>  Patrick: right! But for me, this same example link bring me to http://apple.stackexchange.com/a/59918/22003 . Hence it is perhaps not a SE problem but rather a browser or cookie one. I investigate this and will update or delete my question.</p>
			</div>
			<div id = "comment-3324" class = "comment">
				<p>This behaviour can be reproduced: Firefox goes on the wrong answer, where Safari is going correctly to the wanted one. Unless otherwise asked for, I'll remove this question which may let people think that there is a problem where there isn't.</p>
			</div>
			<div id = "comment-3325" class = "comment">
				<p>possible duplicate of [How do I link to a specific answer?](http://meta.apple.stackexchange.com/questions/1698/how-do-i-link-to-a-specific-answer)</p>
			</div>
			<div id = "comment-3326" class = "comment">
				<p>Can you post your findings as an answer? I'll tag it as a bug but I wouldn't bet on it getting resolved.</p>
			</div>
			<div id = "comment-3352" class = "comment">
				<p>@patrix I think this issue is specific to Ask Different. Doesn't happen to me at Money SE.  Could be something in the site-specific bits that cause it?  I'll post specific examples in an answer below.</p>
			</div>
			<div id = "comment-3354" class = "comment">
				<p>@patrix Could we re-title & update the question to reflect that this is now about the bug? I can't edit the question. (It's a non-wiki meta post.)  At the moment, this question doesn't read like it is about a bug in the existing feature, but rather inquiring about the existence of such a feature.</p>
			</div>
				<input type = 'text'/>
				<input type = 'button' value = 'Comment'/><br>
				<button class="record-start" id="start-1772">Record</button>
				<button class="record-stop" id="stop-1772">Stop</button>
				<p id="recording-1772"></p>

<h1>Answers</h1>
			<br><div id = "ans-1774"  class = "post">
				<h2>Answer</h2>
				<h3>Score ::3</h3>
				<p><p>This looks like a bug between the Javascript in use on StackExchange and
Firefox (22.0). When I write:</p>

<pre><code>http://apple.stackexchange.com/a/87982
</code></pre>

<p>within a new Firefox window I see it is immediatly rewritten as:</p>

<pre><code>http://apple.stackexchange.com/questions/59917/how-do-you-get-system-diagnostic-files-from-os-x/87982#87982
</code></pre>

<p>And the debugger of Firefox tells me that there are some CSS and Javascript error after this single GET:</p>

<pre><code>[20:22:01.482] Error in parsing value for 'transition'.  Declaration dropped. @ http://cdn.sstatic.net/apple/all.css?v=8b74d819562e:1
[20:22:01.482] Unknown property '-moz-background-clip'.  Declaration dropped. @ http://cdn.sstatic.net/apple/all.css?v=8b74d819562e:1
[20:22:01.482] Error in parsing value for 'background'.  Declaration dropped. @ http://cdn.sstatic.net/apple/all.css?v=8b74d819562e:1
[20:22:01.482] Expected color but found 'top'.  Error in parsing value for 'background'.  Declaration dropped. @ http://cdn.sstatic.net/apple/all.css?v=8b74d819562e:1
[20:22:01.482] Error in parsing value for 'filter'.  Declaration dropped. @ http://cdn.sstatic.net/apple/all.css?v=8b74d819562e:1
[20:22:01.482] Unknown property '-moz-border-radius'.  Declaration dropped. @ http://cdn.sstatic.net/apple/all.css?v=8b74d819562e:1
[20:22:01.482] Unknown property '-moz-box-shadow'.  Declaration dropped. @ http://cdn.sstatic.net/apple/all.css?v=8b74d819562e:1
[20:22:01.482] Unknown property '-moz-border-radius-topleft'.  Declaration dropped. @ http://cdn.sstatic.net/apple/all.css?v=8b74d819562e:1
[20:22:01.482] Unknown property '-moz-border-radius-topright'.  Declaration dropped. @ http://cdn.sstatic.net/apple/all.css?v=8b74d819562e:1
[20:22:01.483] Error in parsing value for 'line-height'.  Declaration dropped. @ http://cdn.sstatic.net/apple/all.css?v=8b74d819562e:1
[20:22:01.483] Unknown property '-moz-border-radius-bottomright'.  Declaration dropped. @ http://cdn.sstatic.net/apple/all.css?v=8b74d819562e:1
[20:22:01.484] Error in parsing value for 'white-space'.  Declaration dropped. @ http://cdn.sstatic.net/apple/all.css?v=8b74d819562e:1
[20:22:01.484] Unknown property '-moz-border-radius-bottomleft'.  Declaration dropped. @ http://cdn.sstatic.net/apple/all.css?v=8b74d819562e:1
[20:22:01.484] Expected 'important' but found 'ie7'.  Expected ';' or '}' to terminate declaration but found 'ie7'.  Declaration dropped. @ http://cdn.sstatic.net/apple/all.css?v=8b74d819562e:1
[20:22:01.486] Error in parsing value for 'min-height'.  Declaration dropped. @ http://cdn.sstatic.net/apple/all.css?v=8b74d819562e:1
[20:22:01.486] Expected color but found 'White\9 '.  Error in parsing value for 'background-color'.  Declaration dropped. @ http://cdn.sstatic.net/apple/all.css?v=8b74d819562e:1
[20:22:01.488] Unknown property '-moz-outline-style'.  Declaration dropped. @ http://cdn.sstatic.net/apple/all.css?v=8b74d819562e:1
[20:22:01.490] Expected color but found 'bottom'.  Error in parsing value for 'background'.  Declaration dropped. @ http://cdn.sstatic.net/apple/all.css?v=8b74d819562e:1
[20:22:01.490] Unknown property 'zoom'.  Declaration dropped. @ http://cdn.sstatic.net/apple/all.css?v=8b74d819562e:1
[20:22:01.491] Unknown property 'background-position-x'.  Declaration dropped. @ http://cdn.sstatic.net/apple/all.css?v=8b74d819562e:1
[20:22:02.976] no element found @ http://apple.stackexchange.com/posts/59917/ivc/d31a?_=1375726922643:1
[20:22:02.995] Expected media feature name but found 'view-mode'. @ http://apple.stackexchange.com/questions/59917/how-do-you-get-system-diagnostic-files-from-os-x/87982#87982:1
[20:22:02.995] Error in parsing value for 'filter'.  Declaration dropped. @ http://apple.stackexchange.com/questions/59917/how-do-you-get-system-diagnostic-files-from-os-x/87982#87982
</code></pre>

<p>The 2 last lines are the ones who should go to the right reference within the HTML page.</p>
</p><br>
			</div><h3>Comments</h3>
			<div id = "comment-3359" class = "comment">
				<p>What is the correct reference then? The two you give are the same</p>
			</div>
				<input type = 'text'/>
				<input type = 'button' value = 'Comment'/><br>
				<button class="record-start" id="start-1774">Record</button>
				<button class="record-stop" id="stop-1774">Stop</button>
				<p id="recording-1774"></p>
			<br><div id = "ans-1784"  class = "post">
				<h2>Answer</h2>
				<h3>Score ::3</h3>
				<p><p>I'm using Firefox 22.0 on my Mac and I can confirm this defect. It's also an issue with Firefox on Windows.  FWIW, I've also seen this behavior with previous versions of the browser.</p>

<p>And yet: I've only witnessed this defect at <em>Ask Different</em>.  I'm a moderator at the <em>Personal Finance &amp; Money</em> Stack Exchange and spend enough time there and I've never seen this happen at <em>Money.</em></p>

<p>Consequently, I suspect the issue is related to a difference between how <em>Ask Different</em> has been configured/customized vs. how other Stack Exchange sites behave &ndash; or at least, vs. those SE sites that remain plain beta-themed, like <em>Money</em> is, currently.</p>

<p>For instance, on Ask Different, the following link is <em>supposed</em> to jump directly to the anchor for Jeremy&nbsp;Mullin's answer at the corresponding question:</p>

<ul>
<li><p><a href="https://apple.stackexchange.com/a/11105">https://apple.stackexchange.com/a/11105</a></p>

<p>... But it jumps to the top answer, <em>not</em> the one whose id is in the link. See:</p>

<p><img src="https://i.stack.imgur.com/cfOLC.png" alt="Erroneous answer anchor jump within page"></p>

<p>(Note that <em>if you scroll down</em> fast enough, you'll at least see Jeremy&nbsp;Mullin's answer flash, like it is supposed to.)</p></li>
</ul>

<p>Whereas, at <em>Personal Finance &amp; Money</em>, the following link is supposed to &mdash; and does &mdash; jump directly to the anchor for fennec's answer:</p>

<ul>
<li><p><a href="https://money.stackexchange.com/a/2772">https://money.stackexchange.com/a/2772</a></p>

<p>... It jumps to the expected answer, being the one whose id is in the link. See:</p>

<p><img src="https://i.stack.imgur.com/wkcYR.png" alt="Expected answer jump within page"></p></li>
</ul>

<p>@patrix had commented on this meta question: <em>"I'll tag it as a bug but I wouldn't bet on it getting resolved."</em>  Actually, I hope the difference I've demonstrated above shows this bug has a solution in reach? e.g. Isolate &amp; test the differences between the <em>Ask Different</em> theme and the plain Stack Exchange beta theme.  Create a sandbox instance of Ask Different, and remove/revert-to-plain the customized JS, CSS, and other parts, one at a time, until the issue goes away, identifying the errant part. Then, determine the appropriate fix for that errant part. </p>

<p>Alternatively, perhaps the errant customized part can already be inferred from the debugging information presented in the other answer? Such might be obvious to the developer who did the customization work for <em>Ask Different</em> in the first place.</p>
</p><br>
			</div><h3>Comments</h3>
			<div id = "comment-3355" class = "comment">
				<p>FWIW, on meta, http://meta.apple.stackexchange.com/a/1784/ seems to link to this answer.</p>
			</div>
			<div id = "comment-3356" class = "comment">
				<p>@DanielLawson Not on my machine! When I click the link in your comment (which is supposed to go to *this* answer of mine), I actually see Daniel's answer at the top of the screen instead, though I can see a small portion of my answer flash at the bottom. Of course, which answer **you** see at top of the screen will depend on how you have answers sorted: *active*, *oldest*, or *votes*. I'm sorting by **votes** and so Daniel's answer (currently 1 vote to my answer's 0) is listed first. If you're sorting otherwise, it's a coincidence that hides the defect.</p>
			</div>
			<div id = "comment-3357" class = "comment">
				<p>(and if my answer should become the top-voted answer in this meta question, then your link will coincidentally start to work for me, too, while I remain sorted by *votes*.)</p>
			</div>
				<input type = 'text'/>
				<input type = 'button' value = 'Comment'/><br>
				<button class="record-start" id="start-1784">Record</button>
				<button class="record-stop" id="stop-1784">Stop</button>
				<p id="recording-1784"></p>
			</div>
			<div id = "resourcestab" class = "resourcestab">
				<h2>RESOURCES</h2>
			</div>
			<footer>Moore & Peps collaboration.</footer>
	</div>
	<script type="text/javascript">
		var content = $('.content').html();
		populateResources(content)
	</script>
	<script src="/media.js"></script>
	</body>
</html>