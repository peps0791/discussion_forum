<html>
	<head>
		<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
		<script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="  crossorigin="anonymous"></script>
		<script src = "/jquery-highlight.js"></script>
		<link href="/jquery.upvote.css" rel="stylesheet">
		<script src = "/jquery.upvote.js" type="text/javascript"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
		<link rel="stylesheet" href="/style.css"/>
		<script src="/createlinks.js"></script>
		<script src="/textaudit.js"></script>
		<script src="/PorterStemmer1980.min.js"></script>
		<script src="/highlight.js"></script>
		<title id = 'pagetitle'>Determing limits of rotation in a robot workspace
		</title>
	</head>
	<body id = 'pagebody'>
		<div id = "loginmodals"></div>
		<div id = "issuemodals"></div>
		<div id = "highlight_tool"></div>
		<div id = "reward_tool"></div>
		<div id = "comment_tool"></div>
		<div class = "container">
			<header>
				<h1>Just Another Discussion Forum</h1>
			</header>
			<div class="topnav" id="myTopnav">
				<a href="/home">Home</a>
				<a href = "#issueModal" data-toggle="modal" style = "float:right">Report Issue</a>
			</div>
			<div class = "content">
			<div id = "ques-4265" class = "post">
			<h2>Question</h2>
			<div id="vote-4265" class="upvote" style="float:left;">
				<a class="upvote"></a>
				<span class="count">1</span>
				<a class="downvote"></a>
				<a class="star"></a>
				<p>Views :: 328</p>
			</div>
			<form id = "questionpostsform" method="GET" action = "/ask">
				<input type="submit" id = "quesbtn" class="btn btn-primary btn-lg" value="Ask Question">
			</form>
				<h2>Determing limits of rotation in a robot workspace</h2>
<p>How to determine the limit range of end effector orientation (Roll-Pitch-Yaw) at one specific point(XYZ)?I had derived Forward/Inverse kinematic. I'm making a program for 6DOF articulated robot arm so that the user can know the limit of tool rotation in Global axis(Roll-Pitch-Yaw) at a certain point.</p>

			</div>
			<div class = "userinfosection"  id = "userinfo-4265" data-toggle = "popover">
				<p>user name : Sobi</p>
				<p> user reputation : 6</p>
				<p class = "tagcontent" id = "usertaginfo-4265">{'None': 0, 'robotic-arm': 1}</p>
			</div><br>
			<br><h3>Comments</h3>
				<button data-toggle = 'collapse' data-target = "#commentsection-4265">Load Comments</button></br>
			<div id = "commentsection-4265" class = 'collapse'>
			<div id = "comment-6894" class = "comment">
				<p>I'm not familiar with OpenRAVE. I've seen it could be used in python. Could it be used in visual Basic(VB.net) programming?</p>
			</div>
			</div>
				<textarea id = "speech-4265" rows="3" cols="80"></textarea><br>
				<button class="record-start" id="start-4265">
					<img id="start_img-4265" src="/mic.gif" alt="Start">
				</button>
				<button class = "comment-btn" id = "comment-btn-4265">Comment</button>

<h1>Answers</h1>
			<br><div id = "ans-4267"  class = "post">
				<h2>Answer</h2>
			<div id="vote-4267" class="upvote" style="float:left;">
				<a class="upvote"></a>
				<span class="count">1</span>
				<a class="downvote"></a>
				<a class="star"></a>
			</div>
				<p><p>The kinematic answer to this question is pretty complex, but I'll answer it in the way in which I would attack this problem. If you're trying to understand the math behind what is going on, this might not be the answer you're looking for:</p>

<p>I don't know if you're familiar with <a href="http://openrave.org/" rel="nofollow">OpenRAVE</a>, but it is a really nice project that has a tool called <a href="http://openrave.org/docs/latest_stable/openravepy/ikfast/" rel="nofollow">IKFast</a>. IKFast is a tool that [attempts to] provides automated analytical inverse kinematic solutions to any serial manipulator. OpenRAVE has built many very useful tools around their ability to create analytical solutions, one of which is the ability produce all the possible joint space solutions to a workspace pose. This <a href="http://openrave.org/docs/latest_stable/openravepy/examples.tutorial_iksolutions/" rel="nofollow">example</a> shows what I'm talking about. </p>

<p>All you have to do is create a model of your robot that is <a href="http://openrave.programmingvision.com/wiki/index.php/Format:XML" rel="nofollow">OpenRAVE friendly</a> and run that example which spits out an array of joint value arrays that correspond to all the possible solutions to the pose. There is a <a href="http://wiki.ros.org/collada_urdf" rel="nofollow">tool</a> that converts ROS's urdf models to openRAVE models in case you're already using ROS. </p>

<p>I realize there is a programming learning curve to learning OpenRAVE but I believe that curve is much easier to overcome than the curve associated with understanding the complexities of analyzing the inverse kinematics of a robot arm manually. Not to mention, when you solve the kinematics of an arm, its only good for that particular arm. But if you learn how to do this using OpenRAVE, you will be able to do it quickly with almost any arm in the future. </p>
</p><br>
			</div>
			<div class = "userinfosection"  id = "userinfo-4267" data-toggle = "popover">
				<p>user name : Airuno2L</p>
				<p> user reputation : 156</p>
				<p class = "tagcontent" id = "usertaginfo-4267">{'None': 14}</p>
			</div><br><h3>Comments</h3>
				<button data-toggle = 'collapse' data-target = "#commentsection-4267">Load Comments</button></br>
			<div id = "commentsection-4267" class = 'collapse'>
			<div id = "comment-6810" class = "comment">
				<p>In that example, they use Transform6D ik model, but in your case you'll want Translation3D</p>
			</div>
			</div>
				<textarea id = "speech-4267" rows="3" cols="80"></textarea><br>
				<button class="record-start" id="start-4267">
					<img id="start_img-4267" src="/mic.gif" alt="Start">
				</button>
				<button class = "comment-btn" id = "comment-btn-4267">Comment</button>
			<br><div id = "ans-4311"  class = "post">
				<h2>Answer</h2>
			<div id="vote-4311" class="upvote" style="float:left;">
				<a class="upvote"></a>
				<span class="count">1</span>
				<a class="downvote"></a>
				<a class="star"></a>
			</div>
				<p><p>I will explain how to determinate the "normal" three dimensional workspace and then extrapolate to orientation. I hope to be useful.</p>

<p>Let $q$ the position of your robotic arm motors, so its value describe completely the position of your manipulator at each time. First we suppose that the motors of our robot have no limits so, abusing of the notation, we write $q \in \mathcal Q$, i.e., the configuration space and the joint's velocities $ \dot q \in \mathbb R^n$ for all $\mathcal Q$. Now we call $p = [\matrix{x^\top \psi^\top}]^\top$ the column vector with position and the euler's angles. Now, the differential direct kinematics reads</p>

<p>$$
\dot p = J(q) \;\dot q
$$</p>

<p>Where the jacobian $J$ has to parts
$$
J=\pmatrix{J_x \cr J_\psi}
$$</p>

<p>This equation can be readed as "for infinitesimal changes in the joint's positions, give me the infinitesimal changes in the end-effector's positions/orientation". In fact velocity deals with infinitesimal displacement in infinitesimal time. </p>

<p>The limits of the operations space $\Omega \in \mathbb R^3$ of a manipulator are the points where no infinitesimal changes of the joints positions gives infinitesimal changes in space positions. In other words, at these points it is not possible to achieve displacements in, at least, one direction.  This means that it the joint configurations $\bar{q}$ is in the limit of hte workspace if</p>

<p>$$
\mbox{Rank}\;( J_x(\bar{q})) &lt; 3
$$</p>

<p>because there is at least one direction of the three dimensional space $\mathbb R^3$ that is outside the co-domain of the linear mapping given by the matrix $J_x(\bar q)$</p>

<p>The same reasoning can be applied to orientation. We looks for points in $\mathcal Q$ where infinitesimal changes in the joint's positions give no change in some orientation parameter, say an euler angle. The problem of using the previous formula as $\mbox{Rank}\; J_\psi$ is that the matrix $J_\psi$ could have a rank less than 3 because a representations singularity. That can be overrided using another  minimal orientation representation like quaternions, or simply changing the used euler angles in the singular points.</p>

<p>Now if each motor have its limit we write  $q_i \in [q_{i}^0, q_i^1]$. We call $\partial \mathcal Q $ the set of all configurations $q$ for which at least one component is in its limit.  We have that for $ q \in \partial \mathcal Q $ there is at least one $i$ for which $\dot q_i \in \mathbb R^+$ XOR $\dot q_i \in \mathbb R^-$, i.e., for the joint $q_i$, when it is at its upper limit, necessarily $\dot q \le 0$, and, when it is at its lower limit, necessarily $\dot q \ge 0$. For the limits of the workspace $\Omega \subset \mathbb R^3$ we have that the formula $\mbox{Rank}\;J_x &lt; 3$ cannot be used in $\partial \Omega$, because at these points the domain of $J_x$ is not a vector space. At the points  $\bar q \in \partial \mathcal Q$  there is one direction that is forbidden for $\dot {\bar q}$, the mapping of that directions $J_x \dot{\bar q}$ is also a forbidden direction if and only if it is linearly independent of the mapping of all possible velocities $J_x \dot q_j$   in the three-dimensional space, then it is a limit of the workspace. In other words, a forbidden joint velocity maps into a forbidden end-effector displacement if and only if, there is not another allowed infinitesimal joint displacement that maps into a displacement in that direction. The same reasoning can be applied to orientation, taking into account the representations singularities. </p>

<p>So, your software shout do this:</p>

<ol>
<li>in $\mathcal Q$ just seek for the values of $q$ where $\mbox{Rank}\;J_\psi &lt; 3$ taking into account the representation singularities.</li>
<li>for each point in $\partial \mathcal Q$ you have to identify the forbidden velocity, say $\dot z$ and take its mapping $v = J_\psi \dot z$. Now construct the matrix $J'_\psi$ removing the $i$ column of each joint that lies in its limits. If $v^\top (J'_\psi) =0 $ then the direction is a limit in the orientation. Always taking into account the representations singularities!</li>
</ol>
</p><br>
			</div>
			<div class = "userinfosection"  id = "userinfo-4311" data-toggle = "popover">
				<p>user name : Rafael Rojas</p>
				<p> user reputation : 143</p>
				<p class = "tagcontent" id = "usertaginfo-4311">{'communication': 0, 'None': 4, 'c': 0, 'robotic-arm': 0}</p>
			</div><br><h3>Comments</h3><p>no comments yet<p><br>
			<div id = "commentsection-4311" class = 'collapse'>
			</div>
				<textarea id = "speech-4311" rows="3" cols="80"></textarea><br>
				<button class="record-start" id="start-4311">
					<img id="start_img-4311" src="/mic.gif" alt="Start">
				</button>
				<button class = "comment-btn" id = "comment-btn-4311">Comment</button>
			</div>
			<div id = "resourcestab" class = "resourcestab">
				<ul class="nav nav-tabs">
					<li class="active"><a data-toggle="tab" href="#resources">Resources</a></li>
					<li><a data-toggle="tab" href="#highlights">Highlights</a></li>
				</ul>
					<div class="tab-content">
						<div id="resources" class="tab-pane fade in active">
							<h3>Links from the Page</h3>
							<div id = "resourcescontent"></div>
						</div>
						<div id="highlights" class="tab-pane fade">
							<h3>Highlights</h3>
							<div id = "highlightcontent"></div>
						</div>
			</div>
			</div>
			<footer>Moore & Peps collaboration.</footer>
	</div>
	<script src="/post.js"></script>
	<script type="text/javascript">
		$("#loginmodals").load("/loginModal.html");
		$("#issuemodals").load("/issueModal.html");
		$("#highlight_tool").load("/highlight_tool.html");
		$("#comment_tool").load("/comment_tool.html");
		$("#reward_tool").load("/reward_tool.html");
		checkLoggedInUser()
		var content = $('.content').html();
		populateResources(content)
		getHighlights()
		setOnLinksHover()
	</script>
	<script src="/media.js"></script>
	<script src="/vote.js"></script>
	<script src="/managefunction.js"></script>
	</body>
</html>