<html>
	<head>
		<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
		<script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="  crossorigin="anonymous"></script>
		<script src = "/jquery-highlight.js"></script>
		<link href="/jquery.upvote.css" rel="stylesheet">
		<script src = "/jquery.upvote.js" type="text/javascript"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
		<link rel="stylesheet" href="/style.css"/>
		<script src="/createlinks.js"></script>
		<script src="/textaudit.js"></script>
		<script src="/PorterStemmer1980.min.js"></script>
		<script src="/highlight.js"></script>
		<title id = 'pagetitle'>Why do I need a Kalman filter?
		</title>
	</head>
	<body id = 'pagebody'>
		<div id = "loginmodals"></div>
		<div id = "issuemodals"></div>
		<div id = "highlight_tool"></div>
		<div class = "container">
			<header>
				<h1>Just Another Discussion Forum</h1>
			</header>
			<div class="topnav" id="myTopnav">
				<a href="/home">Home</a>
				<a href = "#issueModal" data-toggle="modal" style = "float:right">Report Issue</a>
			</div>
			<div class = "content">
			<div id = "ques-277" class = "post">
			<h2>Question</h2>
			<div id="vote-277" class="upvote" style="float:left;">
				<a class="upvote"></a>
				<span class="count">44</span>
				<a class="downvote"></a>
				<a class="star"></a>
				<p>Views :: 6245</p>
			</div>
			<form id = "questionpostsform" method="GET" action = "/ask">
				<input type="submit" id = "quesbtn" class="btn btn-primary btn-lg" value="Ask Question">
			</form>
				<h2>Why do I need a Kalman filter?</h2>
<p>I am designing an unmanned aerial vehicle, which will include several types of sensors: </p>

<ul>
<li>3-axis accelerometer</li>
<li>3-axis gyroscope </li>
<li>3-axis magnetometer</li>
<li>horizon sensor</li>
<li>GPS </li>
<li>downward facing ultrasound.</li>
</ul>

<p>A friend of mine told me that I will need to put all of this sensor data through a Kalman filter, but I don't understand why. Why can't I just put this straight into my micro controller. How does the Kalman filter help me about my sensor data?</p>

			</div>
			<div class = "userinfosection"  id = "userinfo-277" data-toggle = "popover">
				<p>user name : Rocketmagnet</p>
				<p> user reputation : 4235</p>
				<p class = "tagcontent" id = "usertaginfo-277">{'control': 31, 'force': 8, 'multi-agent': 5, 'pid': 29, 'air-muscle': 6, 'uav': 52, 'stepper-driver': 3, 'reliability': 5, 'motor': 12, 'esc': 1, 'mobile-robot': 6, 'ros': 35, 'stepper-motor': 3, 'tuning': 12, 'swarm': 10, 'research': 5, 'platform': 17, 'imu': 4, 'kalman-filter': 49, 'hri': 4, 'None': 266, 'raspberry-pi': 24, 'localization': 7, 'python': 7, 'torque': 3, 'brushless-motor': 28, 'failure': 5, 'force-sensor': 15, 'sensors': 20, 'pwm': 10, 'wireless': 10, 'servos': 7, 'wifi': 24, 'simulation': 6, 'servomotor': 11, 'particle-filter': 0, 'sensor-fusion': 4, 'automatic': 12, 'software': 17}</p>
			</div><br>
			<br><h3>Comments</h3><p>no comments yet<p><br>
			<div id = "commentsection-277" class = 'collapse'>
			</div>
				<textarea id = "speech-277" rows="3" cols="80"></textarea><br>
				<button class="record-start" id="start-277">
					<img id="start_img-277" src="/mic.gif" alt="Start">
				</button>
				<button class = "comment-btn" id = "comment-btn-277">Comment</button>

<h1>Answers</h1>
			<br><div id = "ans-278"  class = "post">
				<h2>Answer</h2>
			<div id="vote-278" class="upvote" style="float:left;">
				<a class="upvote"></a>
				<span class="count">20</span>
				<a class="downvote"></a>
				<a class="star"></a>
			</div>
				<p><p>Sensor data is noisy. If you do not filter it, then your vehicle would at least act erratically if it were even stable enough to fly. Filtering, via a Kalman filter or otherwise, can reduce the noise when done correctly, improving stability in turn.</p>

<p>A <a href="http://en.wikipedia.org/wiki/Kalman_filter">Kalman filter</a> is a particularly powerful filter. It takes a model of the system and noise models for both the system and your sensors. It then estimates the state of the vehicle based on a provided state estimate and the controls applied at any moment in time. This estimated state will be more accurate than what the sensors report.</p>
</p><br>
			</div>
			<div class = "userinfosection"  id = "userinfo-278" data-toggle = "popover">
				<p>user name : DaemonMaker</p>
				<p> user reputation : 3321</p>
				<p class = "tagcontent" id = "usertaginfo-278">{'control': 4, 'stereo-vision': 15, 'None': 271, 'computer-vision': 15, 'battery': 7, 'cameras': 15, 'research': 4, 'troubleshooting': 7}</p>
			</div><br><h3>Comments</h3><p>no comments yet<p><br>
			<div id = "commentsection-278" class = 'collapse'>
			</div>
				<textarea id = "speech-278" rows="3" cols="80"></textarea><br>
				<button class="record-start" id="start-278">
					<img id="start_img-278" src="/mic.gif" alt="Start">
				</button>
				<button class = "comment-btn" id = "comment-btn-278">Comment</button>
			<br><div id = "ans-279"  class = "post">
				<h2>Answer</h2>
			<div id="vote-279" class="upvote" style="float:left;">
				<a class="upvote"></a>
				<span class="count">23</span>
				<a class="downvote"></a>
				<a class="star"></a>
			</div>
				<p><p>The short, snide answer is "try it without one."  The better answer is an example: When your accellerometers say you are 10 degrees from vertical, but your gyro says you haven't rotated away from vertical, and your magnetometers are reporting a 30 deg offset from north but your gyro says 32 degree ... what is the current heading and tilt?  </p>

<p>You'll probably come up with a million ad-hoc ways which seem to work in one example, but fail in others. The Kalman Filter (Extended Kalman Filter (EKF) for this task!) will provide for you a rigorous way to answer these questions. The quality of the answers is still being researched--though the EKF's track record is very good--but at least everyone will agree what the answers <em>are</em>. </p>
</p><br>
			</div>
			<div class = "userinfosection"  id = "userinfo-279" data-toggle = "popover">
				<p>user name : Josh Vander Hook</p>
				<p> user reputation : 3960</p>
				<p class = "tagcontent" id = "usertaginfo-279">{'None': 345}</p>
			</div><br><h3>Comments</h3>
				<button data-toggle = 'collapse' data-target = "#commentsection-279">Load Comments</button></br>
			<div id = "commentsection-279" class = 'collapse'>
			<div id = "comment-5087" class = "comment">
				<p>Exactly the answer I was looking for. "What would happen if I don't use Kalman Filter". Thanks!</p>
			</div>
			</div>
				<textarea id = "speech-279" rows="3" cols="80"></textarea><br>
				<button class="record-start" id="start-279">
					<img id="start_img-279" src="/mic.gif" alt="Start">
				</button>
				<button class = "comment-btn" id = "comment-btn-279">Comment</button>
			<br><div id = "ans-285"  class = "post">
				<h2>Answer</h2>
			<div id="vote-285" class="upvote" style="float:left;">
				<a class="upvote"></a>
				<span class="count">41</span>
				<a class="downvote"></a>
				<a class="star"></a>
			</div>
				<p><p>You <em>do</em> connect all these sensors directly to a microcontroller.
The Kalman filter is not an electronic filter like a LRC filter that goes between the sensors and the microcontroller. The Kalman filter is a mathematical filter implemented as software routine inside the microcontroller.</p>

<p>The sensors you have listed give the microcontroller 14 or 15 raw numbers each time they are all updated.</p>

<p>When I fly a little aircraft, what I really want to know is its position and orientation
and how far it is above the ground -- 7 numbers.</p>

<p>I need <em>something</em> that gives me those 7 numbers.</p>

<p>Ideally I want a new estimate of those 7 numbers every time through my control loop.
The once-per-second updates I get from my cheap GPS aren't nearly fast enough.
(People at <a href="https://robotics.stackexchange.com/questions/231/what-frequency-does-my-quadcopter-output-sense-calculate-output-update-loop-need">What frequency does my quadcopter output-sense-calculate-output update loop need to stay stable?</a> are telling me even 50-times-per-second isn't going to be fast enough).</p>

<p>Somehow I'm going to have to reduce those 14 or 15 raw numbers that I have, some of which only occasionally get updated, into (estimates of) the 7 numbers that I really want.</p>

<p>As Josh pointed out, there are many ad-hoc ways to convert those raw numbers into usable data.
Any routine that converts 15 numbers into 7 numbers can be described as a "filter".</p>

<p>You don't <em>have</em> to use the optimum filter.
But you will use some kind of filter -- i.e., something that converts from the 15 numbers of raw data you have into (estimates of) the 7 numbers you really want.</p>

<p>The <a href="http://en.wikipedia.org/wiki/Kalman_filter" rel="nofollow noreferrer">Kalman Filter</a> is, in some conditions, the "optimum" filter, the best way of converting that raw data into the 7 numbers I really want.</p>

<p>It may take less work on your part to use a Kalman filter that someone else has already written and debugged,
than to write some other filter from scratch, debug it, and keep adding stuff to it until it is usable -- a filter that will inevitably turn out to be sub-optimum.</p>
</p><br>
			</div>
			<div class = "userinfosection"  id = "userinfo-285" data-toggle = "popover">
				<p>user name : David Cary</p>
				<p> user reputation : 3365</p>
				<p class = "tagcontent" id = "usertaginfo-285">{'quadcopter': 38, 'stepper-driver': 9, 'None': 256, 'multi-rotor': 2, 'force-sensor': 9, 'stability': 36, 'industrial-robot': 1, 'design': 18, 'motor': 2, 'stepper-motor': 9}</p>
			</div><br><h3>Comments</h3><p>no comments yet<p><br>
			<div id = "commentsection-285" class = 'collapse'>
			</div>
				<textarea id = "speech-285" rows="3" cols="80"></textarea><br>
				<button class="record-start" id="start-285">
					<img id="start_img-285" src="/mic.gif" alt="Start">
				</button>
				<button class = "comment-btn" id = "comment-btn-285">Comment</button>
			<br><div id = "ans-468"  class = "post">
				<h2>Answer</h2>
			<div id="vote-468" class="upvote" style="float:left;">
				<a class="upvote"></a>
				<span class="count">8</span>
				<a class="downvote"></a>
				<a class="star"></a>
			</div>
				<p><p>You could use particle filters as well. For the basic intro to Particle Filters, you could have a look at Professor Thrun's videos in Programming a Robotic Car.</p>

<p><a href="http://www.youtube.com/watch?v=H0G1yslM5rc">http://www.youtube.com/watch?v=H0G1yslM5rc</a></p>

<p><a href="http://www.youtube.com/watch?v=QgOUu2sUDzg">http://www.youtube.com/watch?v=QgOUu2sUDzg</a></p>

<p>Particle filters are more robust and have a far lesser probability of the loop closure error, which commonly occurs while implementing an EKF.</p>

<p>The videos describe the functioning of a particle filter.</p>
</p><br>
			</div>
			<div class = "userinfosection"  id = "userinfo-468" data-toggle = "popover">
				<p>user name : Naresh</p>
				<p> user reputation : 381</p>
				<p class = "tagcontent" id = "usertaginfo-468">{'control': 3, 'None': 14, 'walking-robot': 8, 'rcservo': 6, 'torque': 2, 'pid': 5, 'wheeled-robot': 2, 'legged': 5, 'gait': 2, 'motor': 8, 'mobile-robot': 8, 'stepper-motor': 2, 'navigation': 6, 'hexapod': 8}</p>
			</div><br><h3>Comments</h3>
				<button data-toggle = 'collapse' data-target = "#commentsection-468">Load Comments</button></br>
			<div id = "commentsection-468" class = 'collapse'>
			<div id = "comment-536" class = "comment">
				<p>Generally, answers which contain not more than a link aren't preferred. If you could write a paragraph or two on the gist of the video, that would be nice..</p>
			</div>
			<div id = "comment-566" class = "comment">
				<p>speak for yourself. I see little gain by restating information in another link. The link may contain information I was not aware of and someone does not need to retype it to make me aware of it. I can click and read very easily, thank you.</p>
			</div>
			</div>
				<textarea id = "speech-468" rows="3" cols="80"></textarea><br>
				<button class="record-start" id="start-468">
					<img id="start_img-468" src="/mic.gif" alt="Start">
				</button>
				<button class = "comment-btn" id = "comment-btn-468">Comment</button>
			<br><div id = "ans-493"  class = "post">
				<h2>Answer</h2>
			<div id="vote-493" class="upvote" style="float:left;">
				<a class="upvote"></a>
				<span class="count">8</span>
				<a class="downvote"></a>
				<a class="star"></a>
			</div>
				<p><p>A Kalman Filter is an algorithm that is commonly used in UAVs to fuse multiple sensor measurements together to provide an "optimal" estimate of the position and/or orientation of the UAV.  For example, a Kalman Filter can fuse accelerometer, gyro and magnetometer measurements with a velocity estimate to estimate the UAV's yaw, pitch and roll.</p>

<p>For more information on the sensors and algorithms used in UAV state estimation, try the stand-alone article <a href="http://www.jhuapl.edu/techdigest/TD/td3102/31_02-Barton.pdf">Fundamentals of Small Unmanned Aircraft Flight</a>.  </p>

<p>The article also links to accompanying Matlab code implementing the described Kalman Filter UAV state estimation algorithms.</p>
</p><br>
			</div>
			<div class = "userinfosection"  id = "userinfo-493" data-toggle = "popover">
				<p>user name : user486</p>
				<p> user reputation : 81</p>
				<p class = "tagcontent" id = "usertaginfo-493">{'None': 8}</p>
			</div><br><h3>Comments</h3>
				<button data-toggle = 'collapse' data-target = "#commentsection-493">Load Comments</button></br>
			<div id = "commentsection-493" class = 'collapse'>
			<div id = "comment-567" class = "comment">
				<p>+1 for the nice read you've linked.</p>
			</div>
			</div>
				<textarea id = "speech-493" rows="3" cols="80"></textarea><br>
				<button class="record-start" id="start-493">
					<img id="start_img-493" src="/mic.gif" alt="Start">
				</button>
				<button class = "comment-btn" id = "comment-btn-493">Comment</button>
			</div>
			<div id = "resourcestab" class = "resourcestab">
				<ul class="nav nav-tabs">
					<li class="active"><a data-toggle="tab" href="#resources">Resources</a></li>
					<li><a data-toggle="tab" href="#summary">Summary</a></li>
				</ul>
					<div class="tab-content">
						<div id="resources" class="tab-pane fade in active">
							<h3>Resources</h3>
							<div id = "resourcescontent"></div>
						</div>
						<div id="summary" class="tab-pane fade">
							<h3>Summary</h3>
							<div id = "summarycontent"></div>
						</div>
			</div>
			</div>
			<footer>Moore & Peps collaboration.</footer>
	</div>
	<script src="/post.js"></script>
	<script type="text/javascript">
		$("#loginmodals").load("/loginModal.html");
		$("#issuemodals").load("/issueModal.html");
		$("#highlight_tool").load("/highlight_tool.html");
		checkLoggedInUser()
		var content = $('.content').html();
		populateResources(content)
		getHighlights()
		setOnLinksHover()
	</script>
	<script src="/media.js"></script>
	<script src="/vote.js"></script>
	<script src="/managefunction.js"></script>
	</body>
</html>