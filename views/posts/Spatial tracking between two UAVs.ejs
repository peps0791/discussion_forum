<html>
	<head>
		<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
		<script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="  crossorigin="anonymous"></script>
		<script src = "/jquery-highlight.js"></script>
		<link href="/jquery.upvote.css" rel="stylesheet">
		<script src = "/jquery.upvote.js" type="text/javascript"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
		<link rel="stylesheet" href="/style.css"/>
		<script src="/createlinks.js"></script>
		<script src="/textaudit.js"></script>
		<script src="/PorterStemmer1980.min.js"></script>
		<script src="/highlight.js"></script>
		<title id = 'pagetitle'>Spatial tracking between two UAVs
		</title>
	</head>
	<body id = 'pagebody'>
		<div id = "loginmodals"></div>
		<div id = "issuemodals"></div>
		<div id = "highlight_tool"></div>
		<div class = "container">
			<header>
				<h1>Just Another Discussion Forum</h1>
			</header>
			<div class="topnav" id="myTopnav">
				<a href="/home">Home</a>
				<a href = "#issueModal" data-toggle="modal" style = "float:right">Report Issue</a>
			</div>
			<div class = "content">
			<div id = "ques-271" class = "post">
			<h2>Question</h2>
			<div id="vote-271" class="upvote" style="float:left;">
				<a class="upvote"></a>
				<span class="count">5</span>
				<a class="downvote"></a>
				<a class="star"></a>
				<p>Views :: 327</p>
			</div>
			<form id = "questionpostsform" method="GET" action = "/ask">
				<input type="submit" id = "quesbtn" class="btn btn-primary btn-lg" value="Ask Question">
			</form>
				<h2>Spatial tracking between two UAVs</h2>
<p>I have two Unmanned Aerial Vehicles (planes) which work well. They can fly to various waypoints automatically using GPS.</p>

<p>Now I would like them to fly together in formation. I would like them to fly side-by-side fairly close. This is too close to reliably use GPS to guarantee that they keep the correct relative positions safely, and so I am looking for another way.</p>

<p>Somehow the UAVs need to be able to measure their position and orientation in space relative to the other one. How can I do this? Is there some kind of sensor which can do this? It would need to have the following properties:</p>

<ul>
<li>6 axes (position and orientation)</li>
<li>Range 0m - 5m, (from between plane centres, but planes won't actually ever touch wingtips)</li>
<li>Works in day or night and all weather conditions</li>
<li>Light weight (This is for 1.5m wingspan RC planes, so max extra weight of about 100g)</li>
<li>Probably need about 50Hz - 100Hz refresh rate, but might get away with less, using the IMU to fill in the gaps</li>
</ul>

			</div>
			<div class = "userinfosection"  id = "userinfo-271" data-toggle = "popover">
				<p>user name : Rocketmagnet</p>
				<p> user reputation : 4235</p>
				<p class = "tagcontent" id = "usertaginfo-271">{'control': 31, 'force': 8, 'multi-agent': 5, 'pid': 29, 'air-muscle': 6, 'uav': 52, 'stepper-driver': 3, 'reliability': 5, 'motor': 12, 'esc': 1, 'mobile-robot': 6, 'ros': 35, 'stepper-motor': 3, 'tuning': 12, 'swarm': 10, 'research': 5, 'platform': 17, 'imu': 4, 'kalman-filter': 49, 'hri': 4, 'None': 266, 'raspberry-pi': 24, 'localization': 7, 'python': 7, 'torque': 3, 'brushless-motor': 28, 'failure': 5, 'force-sensor': 15, 'sensors': 20, 'pwm': 10, 'wireless': 10, 'servos': 7, 'wifi': 24, 'simulation': 6, 'servomotor': 11, 'particle-filter': 0, 'sensor-fusion': 4, 'automatic': 12, 'software': 17}</p>
			</div><br>
			<br><h3>Comments</h3><p>no comments yet<p><br>
			<div id = "commentsection-271" class = 'collapse'>
			</div>
				<textarea id = "speech-271" rows="3" cols="80"></textarea><br>
				<button class="record-start" id="start-271">
					<img id="start_img-271" src="/mic.gif" alt="Start">
				</button>
				<button class = "comment-btn" id = "comment-btn-271">Comment</button>

<h1>Answers</h1>
			<br><div id = "ans-276"  class = "post">
				<h2>Answer</h2>
			<div id="vote-276" class="upvote" style="float:left;">
				<a class="upvote"></a>
				<span class="count">5</span>
				<a class="downvote"></a>
				<a class="star"></a>
			</div>
				<p><p>How close together?  If they use the same make and model GPS unit, you MIGHT be able to use the relative positions calculated via GPS.  A lot of the sources of GPS error would be the same for both vehicles in that case (e.g., atmospherics, any built-in GPS filtering).  Each vehicle could broadcast it's state vector to the other one.  </p>
</p><br>
			</div>
			<div class = "userinfosection"  id = "userinfo-276" data-toggle = "popover">
				<p>user name : ViennaMike</p>
				<p> user reputation : 353</p>
				<p class = "tagcontent" id = "usertaginfo-276">{'None': 15, 'sensors': 11, 'compass': 11}</p>
			</div><br><h3>Comments</h3><p>no comments yet<p><br>
			<div id = "commentsection-276" class = 'collapse'>
			</div>
				<textarea id = "speech-276" rows="3" cols="80"></textarea><br>
				<button class="record-start" id="start-276">
					<img id="start_img-276" src="/mic.gif" alt="Start">
				</button>
				<button class = "comment-btn" id = "comment-btn-276">Comment</button>
			<br><div id = "ans-280"  class = "post">
				<h2>Answer</h2>
			<div id="vote-280" class="upvote" style="float:left;">
				<a class="upvote"></a>
				<span class="count">4</span>
				<a class="downvote"></a>
				<a class="star"></a>
			</div>
				<p><p>It is possible that two independent GPS units might be accurate enough (as <a href="https://robotics.stackexchange.com/a/276/37">ViennaMike suggests</a>) if both are sufficiently similar, get a lock from the same location, follow roughly the same paths (so the accumulated differential GPS errors are roughly the same) and are re-synchronised at regular intervals.</p>

<p>This might be significantly assisted though if you also had some sort of proximity measure between the two devices.</p>

<p>Start them off a fixed distance from each other, sync both their differential GPS locks &amp; calibrate the proximity thresholds (starting distance, too close threshold and too far threshold). You can then use the proximity sensor distance to say if the gps locks are drifting too much (they are getting closer than they should be or further apart).</p>

<p>One option which I believe could provide both rough proximity information and data communication between the two UAVs would be Bluetooth. Once the two devices are paired, you may be able to get both intra-device communication and rough proximity information from one pair of radios.</p>

<p>Searching on Bluetooth Proximity led me to see the use of RSSI (Received Signal Strength Indicator) as a measure of proximity and thus onto <a href="http://www.google.co.uk/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=5&amp;cad=rja&amp;ved=0CEsQFjAE&amp;url=http://202.175.25.24/papers/2010/fcc2010yapeng.pdf&amp;ei=9RSZUIXvEsLg4QTHu4CABw&amp;usg=AFQjCNHiYc5HPC3gUX6zyw1aJGaqcOL_tw" rel="nofollow noreferrer"><strong><em>Bluetooth Indoor Positioning using RSSI and Least Square Estimation</em></strong></a> <sup>#</sup> which may be able to give you some interesting ideas for this.</p>

<p><sup># Stack Exchange thinks that the original link <code>http://202.175.25.24/papers/2010/fcc2010yapeng.pdf</code> is invalid, so won't let me use it <a href="https://meta.stackexchange.com/questions/131639/are-ip-address-links-valid-in-posts">as a link</a>, so I have used the google wrapped link.</sup></p>
</p><br>
			</div>
			<div class = "userinfosection"  id = "userinfo-280" data-toggle = "popover">
				<p>user name : Mark Booth</p>
				<p> user reputation : 3037</p>
				<p class = "tagcontent" id = "usertaginfo-280">{'control': 7, 'quadcopter': 2, 'None': 258, 'tuning': 7, 'uav': 2, 'design': 2, 'stepper-motor': 7}</p>
			</div><br><h3>Comments</h3>
				<button data-toggle = 'collapse' data-target = "#commentsection-280">Load Comments</button></br>
			<div id = "commentsection-280" class = 'collapse'>
			<div id = "comment-309" class = "comment">
				<p>Apparently IP based links [are unreliable](http://meta.stackexchange.com/questions/131639/are-ip-address-links-valid-in-posts), but you can put them in a code block, so you don't have to use the #. Alternatively, are we allowed to host the document somewhere else?</p>
			</div>
			</div>
				<textarea id = "speech-280" rows="3" cols="80"></textarea><br>
				<button class="record-start" id="start-280">
					<img id="start_img-280" src="/mic.gif" alt="Start">
				</button>
				<button class = "comment-btn" id = "comment-btn-280">Comment</button>
			<br><div id = "ans-282"  class = "post">
				<h2>Answer</h2>
			<div id="vote-282" class="upvote" style="float:left;">
				<a class="upvote"></a>
				<span class="count">2</span>
				<a class="downvote"></a>
				<a class="star"></a>
			</div>
				<p><p>6-DOF is kind of difficult.. You could do vision but that is hard to implement robustly. You say the UAVs are localizing themselves using GPS; are you using an IMU+Kalman filtering as well? For proximity detection you could try infrared/ultrasonic sensors, e.g. <a href="https://www.sparkfun.com/products/242" rel="nofollow">https://www.sparkfun.com/products/242</a>. You could combine this with the Kalman filter to get a relative position estimate and get orientation from the Kalman filter directly.</p>

<p>Although I reckon if you are using GPS+IMU+Kalman then broadcasting the estimated state to each other (XBee?) would probably suffice, given that the GPS units are calibrated similarly. You could easily calculate the relative orientation by subtracting their orientation in the inertial frame.</p>
</p><br>
			</div>
			<div class = "userinfosection"  id = "userinfo-282" data-toggle = "popover">
				<p>user name : geez</p>
				<p> user reputation : 31</p>
				<p class = "tagcontent" id = "usertaginfo-282">{'None': 3}</p>
			</div><br><h3>Comments</h3><p>no comments yet<p><br>
			<div id = "commentsection-282" class = 'collapse'>
			</div>
				<textarea id = "speech-282" rows="3" cols="80"></textarea><br>
				<button class="record-start" id="start-282">
					<img id="start_img-282" src="/mic.gif" alt="Start">
				</button>
				<button class = "comment-btn" id = "comment-btn-282">Comment</button>
			<br><div id = "ans-297"  class = "post">
				<h2>Answer</h2>
			<div id="vote-297" class="upvote" style="float:left;">
				<a class="upvote"></a>
				<span class="count">3</span>
				<a class="downvote"></a>
				<a class="star"></a>
			</div>
				<p><p>How close together is important. I saw the range of 0-5m, but if you're suggesting that they might touch, or just barely not touch, then you're going to have difficulties. Lightweight is also a vague term which will need to be defined better in order to adequately answer your question. Still, there are some things to keep in mind:</p>

<ul>
<li>Augmented GPS can get you sub-inch accuracy. This will likely involve an extra antenna, so space and weight might be a concern. You also have to make sure you don't lose GPS accuracy at the wrong time, which I've seen with some systems.</li>
<li>As geez suggests, IMU is very useful for the 6-DOF tracking.</li>
<li>You almost certainly know this, but 3D movement makes this a tricky problem. Avoiding collisions is <em>relatively</em> easy, but ensuring the proper formation between the two means sensing the other vehicle will require a wide range of detection.</li>
<li>A sensor such as MS's Kinect will get you some around .6m to 3m 3D sensing, but in a relatively narrow cone, so you'd need several to cover the all around the planes. Also, they're not all <em>that</em> fast and will have trouble in difficult weather. Most weather, really. I don't know of any variants that are outdoor rated, especially in cold/damp (condensation on a lens would kill that sensor).</li>
<li>Which also brings me to another question: speed. Planes are all reasonably fast, but there's glider fast and there's supersonic jet fast and all ranges in between. Refresh rate vs. distance between UAVs will be a very important consideration. Is 30-60hz enough time for your UAVs to correct when they're a few meters apart, or do they need something close to 100hz?</li>
<li>If 30-60Hz is enough, you could potentially mark your UAVs with a distinctive pattern and use optics to detect that pattern and, combined with GPS etc, use that for close-range stuff. The problem with straight image detection is that it's computationally intensive and sometimes tricky to do, especially depending on your math skills. You'd have to have a way to keep the lens clear of condensation, like the Kinect, but I don't believe that's an intractable problem in this case, because you have a lot of options on cameras. Not saying it'd be easy, but easier than with a Kinect-style sensor.</li>
<li>XBee is cool, but it's all packet based, so there's a maximum refresh rate on transmitting between units. You'd probably need some tolerance on lost packets, as well.</li>
</ul>

<p>So, no sure answers yet, but possibly with some domain narrowing we could help you more. Size, weight, minimum distance, and maximum speed limits will all wildly affect what solution you might go with.</p>

<p>UPDATE based on additional information:</p>

<p>Hmmm. I don't think there's an ideal solution. An array of ultrasonics could get you collision avoidance, but there's no high-refresh rate 3D sensor that I know of that could make a bubble around your plane in the 0-5m range. If you were scaling up, you could use something like a Velodyne laser to do something like the equivalent, but environmental conditions would make that less than ideal without work on the software end.</p>

<p>Think hard about tolerances. Is it vital they be able to fly within X cm of wingtip to wingtip? Do they need to be coplanar, or would it be okay if one were, for example, +/- a meter above the other as long as they don't collide? You might also see if you have options on the navigational smarts of the planes, so that, as long as they're following their flight plans within tolerance, they are quiet, but if they are blown off course (or whatever), then they send out an alert to the other UAVs with what they know to be wrong. A differential system might be enough, though I imagine the test cycle for that will be exciting.</p>

<p>Also, do a check on Augmented GPS systems to see if someone makes a lightweight version. Most of the ones I've seen are for agricultural use, so they're more keen to make it ideal for putting on a tractor, but it's worth checking.</p>
</p><br>
			</div>
			<div class = "userinfosection"  id = "userinfo-297" data-toggle = "popover">
				<p>user name : Brian J. Geiger</p>
				<p> user reputation : 31</p>
				<p class = "tagcontent" id = "usertaginfo-297">{'None': 3}</p>
			</div><br><h3>Comments</h3>
				<button data-toggle = 'collapse' data-target = "#commentsection-297">Load Comments</button></br>
			<div id = "commentsection-297" class = 'collapse'>
			<div id = "comment-323" class = "comment">
				<p>Thanks for the answer. I have added some spec to my question.</p>
			</div>
			<div id = "comment-324" class = "comment">
				<p>Mounting something like a Kinect probably means too much weight, especially as it needs some kind of PC powerful enough to process the data. Camera based solutions also may not work because I can't guarantee visual clarity. Might be dark, foggy, cloudy, smokey, etc.</p>
			</div>
			<div id = "comment-356" class = "comment">
				<p>I have added some additional thoughts to my comment based on your new info.</p>
			</div>
			</div>
				<textarea id = "speech-297" rows="3" cols="80"></textarea><br>
				<button class="record-start" id="start-297">
					<img id="start_img-297" src="/mic.gif" alt="Start">
				</button>
				<button class = "comment-btn" id = "comment-btn-297">Comment</button>
			<br><div id = "ans-300"  class = "post">
				<h2>Answer</h2>
			<div id="vote-300" class="upvote" style="float:left;">
				<a class="upvote"></a>
				<span class="count">1</span>
				<a class="downvote"></a>
				<a class="star"></a>
			</div>
				<p><p>You could use the gps system for long-range co-ordination, an altimeter for height, and ultra-sonic sensors for close-range co-ordination. When the planes get in to close proximity the ultrasonic sensors would work for collision prevention. The only extra weight would be ultrasonic sensors, and an altimeter.</p>
</p><br>
			</div>
			<div class = "userinfosection"  id = "userinfo-300" data-toggle = "popover">
				<p>user name : OneChillDude</p>
				<p> user reputation : 218</p>
				<p class = "tagcontent" id = "usertaginfo-300">{'None': 2, '3d-printing': 1, 'kit': 13, 'design': 4, 'mobile-robot': 4, 'dynamics': 4, 'uav': 13}</p>
			</div><br><h3>Comments</h3><p>no comments yet<p><br>
			<div id = "commentsection-300" class = 'collapse'>
			</div>
				<textarea id = "speech-300" rows="3" cols="80"></textarea><br>
				<button class="record-start" id="start-300">
					<img id="start_img-300" src="/mic.gif" alt="Start">
				</button>
				<button class = "comment-btn" id = "comment-btn-300">Comment</button>
			<br><div id = "ans-601"  class = "post">
				<h2>Answer</h2>
			<div id="vote-601" class="upvote" style="float:left;">
				<a class="upvote"></a>
				<span class="count">2</span>
				<a class="downvote"></a>
				<a class="star"></a>
			</div>
				<p><p>Depending on how much you wanted to play with the GPS signals, you could use some form of differential GPS to calculate their relative positions way more precisely
than using the WGS84 outputs would give you. Basically this would remove most of the inaccuracies coming from atmospheric effects and ephemeris errors.</p>

<p>The exact precision would depend on the receivers and algorithms used, especially whether you would also use carrier phase differencing. ... but my wild guess is you could get to 1 or 2 meters precision.</p>
</p><br>
			</div>
			<div class = "userinfosection"  id = "userinfo-601" data-toggle = "popover">
				<p>user name : cube</p>
				<p> user reputation : 567</p>
				<p class = "tagcontent" id = "usertaginfo-601">{'control': 2, 'None': 31, 'wifi': 2, 'kalman-filter': 3, 'calibration': 3, 'geometry': 0, 'localization': 2, 'c': 1, 'avr': 1, 'robotic-arm': 0, 'brushless-motor': 2, 'differential-drive': 2, 'esc': 1, 'motor': 2, 'mobile-robot': 2}</p>
			</div><br><h3>Comments</h3><p>no comments yet<p><br>
			<div id = "commentsection-601" class = 'collapse'>
			</div>
				<textarea id = "speech-601" rows="3" cols="80"></textarea><br>
				<button class="record-start" id="start-601">
					<img id="start_img-601" src="/mic.gif" alt="Start">
				</button>
				<button class = "comment-btn" id = "comment-btn-601">Comment</button>
			</div>
			<div id = "resourcestab" class = "resourcestab">
				<ul class="nav nav-tabs">
					<li class="active"><a data-toggle="tab" href="#resources">Resources</a></li>
					<li><a data-toggle="tab" href="#summary">Summary</a></li>
				</ul>
					<div class="tab-content">
						<div id="resources" class="tab-pane fade in active">
							<h3>Resources</h3>
							<div id = "resourcescontent"></div>
						</div>
						<div id="summary" class="tab-pane fade">
							<h3>Summary</h3>
							<div id = "summarycontent"></div>
						</div>
			</div>
			</div>
			<footer>Moore & Peps collaboration.</footer>
	</div>
	<script src="/post.js"></script>
	<script type="text/javascript">
		$("#loginmodals").load("/loginModal.html");
		$("#issuemodals").load("/issueModal.html");
		$("#highlight_tool").load("/highlight_tool.html");
		checkLoggedInUser()
		var content = $('.content').html();
		populateResources(content)
		getHighlights()
		setOnLinksHover()
	</script>
	<script src="/media.js"></script>
	<script src="/vote.js"></script>
	<script src="/managefunction.js"></script>
	</body>
</html>