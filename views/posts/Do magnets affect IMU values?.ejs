<html>
	<head>
		<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
		<script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="  crossorigin="anonymous"></script>
		<script src = "/jquery-highlight.js"></script>
		<link href="/jquery.upvote.css" rel="stylesheet">
		<script src = "/jquery.upvote.js" type="text/javascript"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
		<link rel="stylesheet" href="/style.css"/>
		<script src="/createlinks.js"></script>
		<script src="/textaudit.js"></script>
		<script src="/PorterStemmer1980.min.js"></script>
		<script src="/highlight.js"></script>
		<title id = 'pagetitle'>Do magnets affect IMU values?
		</title>
	</head>
	<body id = 'pagebody'>
		<div id = "loginmodals"></div>
		<div id = "issuemodals"></div>
		<div id = "highlight_tool"></div>
		<div class = "container">
			<header>
				<h1>Just Another Discussion Forum</h1>
			</header>
			<div class="topnav" id="myTopnav">
				<a href="/home">Home</a>
				<a href = "#issueModal" data-toggle="modal" style = "float:right">Report Issue</a>
			</div>
			<div class = "content">
			<div id = "ques-970" class = "post">
			<h2>Question</h2>
			<div id="vote-970" class="upvote" style="float:left;">
				<a class="upvote"></a>
				<span class="count">10</span>
				<a class="downvote"></a>
				<a class="star"></a>
				<p>Views :: 3638</p>
			</div>
			<form id = "questionpostsform" method="GET" action = "/ask">
				<input type="submit" id = "quesbtn" class="btn btn-primary btn-lg" value="Ask Question">
			</form>
				<h2>Do magnets affect IMU values?</h2>
<p>Im in the process of making a robot which requires 12 3x10mm cylindric magnets for the construction. They are 30mm from the center of the robot where I plan to have the IMU. </p>

<p>I was thinking about using MPU-6050. Do magnets affect the values? If yes, is there a solution for it? like maybe I could have a shield or something around the IMU?</p>

			</div>
			<div class = "userinfosection"  id = "userinfo-970" data-toggle = "popover">
				<p>user name : None</p>
				<p> user reputation : NA</p>
				<p class = "tagcontent" id = "usertaginfo-970">{'control': 0, 'force': 3, 'encoding': 1, 'wheeled-robot': 1, 'legged': 5, 'embedded-systems': 0, 'stability': 5, 'design': 15, 'motor': 3, 'mobile-robot': 3, 'connector': 1, 'h-bridge': 1, 'mrds': 0, 'arduino': 1, 'current': 1, 'kinematics': 0, 'kalman-filter': 8, 'imu': 18, 'irobot-create': 0, 'gyroscope': 1, 'micromouse': 3, 'None': 35, 'power': 16, 'artificial-intelligence': 8, 'driver': 1, 'industrial-robot': 19, 'sensors': 11, 'quadcopter': 7, 'c': 1, 'motion': 1, 'balance': 7, 'servos': 15}</p>
			</div><br>
			<br><h3>Comments</h3><p>no comments yet<p><br>
			<div id = "commentsection-970" class = 'collapse'>
			</div>
				<textarea id = "speech-970" rows="3" cols="80"></textarea><br>
				<button class="record-start" id="start-970">
					<img id="start_img-970" src="/mic.gif" alt="Start">
				</button>
				<button class = "comment-btn" id = "comment-btn-970">Comment</button>

<h1>Answers</h1>
			<br><div id = "ans-971"  class = "post">
				<h2>Answer</h2>
			<div id="vote-971" class="upvote" style="float:left;">
				<a class="upvote"></a>
				<span class="count">10</span>
				<a class="downvote"></a>
				<a class="star"></a>
			</div>
				<p><p>If permanent magnets are rigidly mounted at a fixed distance from the IMU, they have no effect on the accelerometers and gyros inside the MPU-6050.</p>

<p>You can optionally connect the MPU-6050 to an external magnetometer.
(It's used to cancel out yaw drift).
That magnetometer, if you have one, will be affected by magnets.
In theory you could shield the magnetometer by wrapping it in <a href="http://en.wikipedia.org/wiki/mu-metal">mu-metal</a>,
but that would also shield the magnetometer from the magnetic field of Earth, making the magnetometer useless -- better to leave out the magnetometer and the shield entirely.</p>

<p>Maybe you will be lucky and the magnets will merely shift the magnetometer values, without making it peg out.
If so, there are various ways of calibrating-out this fixed shift, and the IMU could work as well as it would have worked without those magnets.
(It's not clear to me if the MPU-6050 in particular supports such calibration).</p>

<p>I'm assuming your magnets have some purpose, yes?
Generally people use magnets in ways where the magnetic field in one small region is actually used, and any "stray" magnetic field elsewhere doesn't help.
There are several ways to "concentrate" the magnetic field,
making it stronger where it is actually useful, and making the stray fields weaker.</p>

<p>Counter-intuitively, it is possible to <em>add</em> more magnets to your system in such a way that the total magnetic field, at the magnetometer, from all the magnets is almost perfectly cancelled out, leaving only the Earth's magnetic field.
(This often makes the magnetic field <em>elsewhere</em> stronger).</p>

<p>For example, a <a href="http://en.wikipedia.org/wiki/Halbach_array">Halbach array</a> arranges permanent magnets in a way that makes the field stronger on one side, while cancelling the field to almost zero on the other side.</p>
</p><br>
			</div>
			<div class = "userinfosection"  id = "userinfo-971" data-toggle = "popover">
				<p>user name : David Cary</p>
				<p> user reputation : 3365</p>
				<p class = "tagcontent" id = "usertaginfo-971">{'quadcopter': 38, 'stepper-driver': 9, 'None': 256, 'multi-rotor': 2, 'force-sensor': 9, 'stability': 36, 'industrial-robot': 1, 'design': 18, 'motor': 2, 'stepper-motor': 9}</p>
			</div><br><h3>Comments</h3><p>no comments yet<p><br>
			<div id = "commentsection-971" class = 'collapse'>
			</div>
				<textarea id = "speech-971" rows="3" cols="80"></textarea><br>
				<button class="record-start" id="start-971">
					<img id="start_img-971" src="/mic.gif" alt="Start">
				</button>
				<button class = "comment-btn" id = "comment-btn-971">Comment</button>
			<br><div id = "ans-972"  class = "post">
				<h2>Answer</h2>
			<div id="vote-972" class="upvote" style="float:left;">
				<a class="upvote"></a>
				<span class="count">3</span>
				<a class="downvote"></a>
				<a class="star"></a>
			</div>
				<p><p>Hard to tell in this exact case.  I looked up the MPU-6050 specs and I am unsure whether it integrates a digital compass to combat gyro drift.  On Sparkfun, it refers to it being a '9 axis fusion algorithm' which implies compass (three axis each for gyro, accel, and magento) but elsewhere it only refers to gyro and accel.</p>

<p>I was doing some related work with a Pololu MinIMU-9 which has all nine axis but requires you to implement the IMU integration logic in code.  What I found with that part was that placing it within 10 cm of the drive motors was causing the magnometer to be very difficult to use.  On one hand you can do a calibration and remove the static magnetic fields from your reading (assuming your IMU routines are coded for this).  On the other hand, I was finding that the strength of the static motor fields was so strong that the comparatively weaker Earth's magnetic fields were down in the 'noise'.  I was having to tune down the flux sensitivity to handle the drive field so my sensitivity to the Earth's field also dropped.</p>

<p>This fix was to ensure the magnometer was sufficiently far away from the drives that their fields were sufficiently smaller than the Earth's fields.  In my case I had to move the IMU sensor about 50 cm away from the motors.</p>

<p>So in summary, 'it depends' :-)  It depends on your sensors, the strength of your local magnetic fields, and whether you can calibrate out the local fields in your IMU logic.</p>
</p><br>
			</div>
			<div class = "userinfosection"  id = "userinfo-972" data-toggle = "popover">
				<p>user name : Jay Beavers</p>
				<p> user reputation : 969</p>
				<p class = "tagcontent" id = "usertaginfo-972">{'None': 68}</p>
			</div><br><h3>Comments</h3><p>no comments yet<p><br>
			<div id = "commentsection-972" class = 'collapse'>
			</div>
				<textarea id = "speech-972" rows="3" cols="80"></textarea><br>
				<button class="record-start" id="start-972">
					<img id="start_img-972" src="/mic.gif" alt="Start">
				</button>
				<button class = "comment-btn" id = "comment-btn-972">Comment</button>
			<br><div id = "ans-1273"  class = "post">
				<h2>Answer</h2>
			<div id="vote-1273" class="upvote" style="float:left;">
				<a class="upvote"></a>
				<span class="count">1</span>
				<a class="downvote"></a>
				<a class="star"></a>
			</div>
				<p><p>You might be able to do "hard iron" calibrations to cancel out the effects of the magnets if they are fixed in relation to the magnetometer. One strategy people use to avoid interference is to make a mast and put the magnetometer at the top of the mast away from the other electronics.</p>
</p><br>
			</div>
			<div class = "userinfosection"  id = "userinfo-1273" data-toggle = "popover">
				<p>user name : ryantm</p>
				<p> user reputation : 131</p>
				<p class = "tagcontent" id = "usertaginfo-1273">{'None': 3}</p>
			</div><br><h3>Comments</h3><p>no comments yet<p><br>
			<div id = "commentsection-1273" class = 'collapse'>
			</div>
				<textarea id = "speech-1273" rows="3" cols="80"></textarea><br>
				<button class="record-start" id="start-1273">
					<img id="start_img-1273" src="/mic.gif" alt="Start">
				</button>
				<button class = "comment-btn" id = "comment-btn-1273">Comment</button>
			<br><div id = "ans-7661"  class = "post">
				<h2>Answer</h2>
			<div id="vote-7661" class="upvote" style="float:left;">
				<a class="upvote"></a>
				<span class="count">0</span>
				<a class="downvote"></a>
				<a class="star"></a>
			</div>
				<p><p>On a semi related note, is there a possibly of permanent damage to the magnemometer and other chips if they are exposed to a magnetic field of between 1000-2000 uT from a stack of small rare earth magnets? I tried doing that to the 9-DOF IMU from adafruit today as a test and it seems to have permanently altered the bias of the magnetometer.</p>
</p><br>
			</div>
			<div class = "userinfosection"  id = "userinfo-7661" data-toggle = "popover">
				<p>user name : wyverniv</p>
				<p> user reputation : 143</p>
				<p class = "tagcontent" id = "usertaginfo-7661">{'quadcopter': 1, 'None': 10, 'power': 1, 'humanoid': 1, 'simulation': 1, 'design': 1, 'matlab': 1, 'mobile-robot': 1, 'dynamics': 1}</p>
			</div><br><h3>Comments</h3><p>no comments yet<p><br>
			<div id = "commentsection-7661" class = 'collapse'>
			</div>
				<textarea id = "speech-7661" rows="3" cols="80"></textarea><br>
				<button class="record-start" id="start-7661">
					<img id="start_img-7661" src="/mic.gif" alt="Start">
				</button>
				<button class = "comment-btn" id = "comment-btn-7661">Comment</button>
			</div>
			<div id = "resourcestab" class = "resourcestab">
				<ul class="nav nav-tabs">
					<li class="active"><a data-toggle="tab" href="#resources">Resources</a></li>
					<li><a data-toggle="tab" href="#summary">Summary</a></li>
				</ul>
					<div class="tab-content">
						<div id="resources" class="tab-pane fade in active">
							<h3>Resources</h3>
							<div id = "resourcescontent"></div>
						</div>
						<div id="summary" class="tab-pane fade">
							<h3>Summary</h3>
							<div id = "summarycontent"></div>
						</div>
			</div>
			</div>
			<footer>Moore & Peps collaboration.</footer>
	</div>
	<script src="/post.js"></script>
	<script type="text/javascript">
		$("#loginmodals").load("/loginModal.html");
		$("#issuemodals").load("/issueModal.html");
		$("#highlight_tool").load("/highlight_tool.html");
		checkLoggedInUser()
		var content = $('.content').html();
		populateResources(content)
		getHighlights()
		setOnLinksHover()
	</script>
	<script src="/media.js"></script>
	<script src="/vote.js"></script>
	<script src="/managefunction.js"></script>
	</body>
</html>