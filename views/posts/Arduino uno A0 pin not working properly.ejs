<html>
	<head>
		<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
		<script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="  crossorigin="anonymous"></script>
		<script src = "/jquery-highlight.js"></script>
		<link href="/jquery.upvote.css" rel="stylesheet">
		<script src = "/jquery.upvote.js" type="text/javascript"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
		<link rel="stylesheet" href="/style.css"/>
		<script src="/createlinks.js"></script>
		<script src="/textaudit.js"></script>
		<script src="/PorterStemmer1980.min.js"></script>
		<script src="/highlight.js"></script>
		<title id = 'pagetitle'>Arduino uno A0 pin not working properly
		</title>
	</head>
	<body id = 'pagebody'>
		<div id = "loginmodals"></div>
		<div id = "issuemodals"></div>
		<div id = "highlight_tool"></div>
		<div id = "comment_tool"></div>
		<div class = "container">
			<header>
				<h1>Just Another Discussion Forum</h1>
			</header>
			<div class="topnav" id="myTopnav">
				<a href="/home">Home</a>
				<a href = "#issueModal" data-toggle="modal" style = "float:right">Report Issue</a>
			</div>
			<div class = "content">
			<div id = "ques-11865" class = "post">
			<h2>Question</h2>
			<div id="vote-11865" class="upvote" style="float:left;">
				<a class="upvote"></a>
				<span class="count">0</span>
				<a class="downvote"></a>
				<a class="star"></a>
				<p>Views :: 42</p>
			</div>
			<form id = "questionpostsform" method="GET" action = "/ask">
				<input type="submit" id = "quesbtn" class="btn btn-primary btn-lg" value="Ask Question">
			</form>
				<h2>Arduino uno A0 pin not working properly</h2>
<p>void setup() {
  pinMode(A0, INPUT);
  Serial.begin(9600);
}</p>

<p>void loop() {
  if (digitalRead(A0)== HIGH) {
    Serial.println("YES");
  }
}</p>

<p>Not giving any input when i am supplying input via push button. I have 5 v supply through 10 kohm resistor to push button and then have other side to A0 and a led to ground. It takes input when I take out wire connected to A0 and just leave it unconnected.</p>

			</div>
			<div class = "userinfosection"  id = "userinfo-11865" data-toggle = "popover">
				<p>user name : user16402</p>
				<p> user reputation : 3</p>
				<p class = "tagcontent" id = "usertaginfo-11865">{'None': 0, 'arduino': 0}</p>
			</div><br>
			<br><h3>Comments</h3><p>no comments yet<p><br>
			<div id = "commentsection-11865" class = 'collapse'>
			</div>
				<textarea id = "speech-11865" rows="3" cols="80"></textarea><br>
				<button class="record-start" id="start-11865">
					<img id="start_img-11865" src="/mic.gif" alt="Start">
				</button>
				<button class = "comment-btn" id = "comment-btn-11865">Comment</button>

<h1>Answers</h1>
			<br><div id = "ans-11869"  class = "post">
				<h2>Answer</h2>
			<div id="vote-11869" class="upvote" style="float:left;">
				<a class="upvote"></a>
				<span class="count">2</span>
				<a class="downvote"></a>
				<a class="star"></a>
			</div>
				<p><p>The A0 pin is an analog pin, so you'd have to use <code>analogRead()</code>, which would give you a value. If you want to use <code>digitalRead()</code> and compare it to <code>HIGH</code>/<code>LOW</code>, use a digital pin.</p>
</p><br>
			</div>
			<div class = "userinfosection"  id = "userinfo-11869" data-toggle = "popover">
				<p>user name : ChrisVolkoff</p>
				<p> user reputation : 43</p>
				<p class = "tagcontent" id = "usertaginfo-11869">{'None': 4, 'kinematics': 0, 'inverse-kinematics': 0, 'jacobian': 0}</p>
			</div><br><h3>Comments</h3><p>no comments yet<p><br>
			<div id = "commentsection-11869" class = 'collapse'>
			</div>
				<textarea id = "speech-11869" rows="3" cols="80"></textarea><br>
				<button class="record-start" id="start-11869">
					<img id="start_img-11869" src="/mic.gif" alt="Start">
				</button>
				<button class = "comment-btn" id = "comment-btn-11869">Comment</button>
			<br><div id = "ans-11871"  class = "post">
				<h2>Answer</h2>
			<div id="vote-11871" class="upvote" style="float:left;">
				<a class="upvote"></a>
				<span class="count">1</span>
				<a class="downvote"></a>
				<a class="star"></a>
			</div>
				<p><p>As an alternative to <a href="https://robotics.stackexchange.com/a/11869/9720">ChrisVolkoff's answer</a>, you may not be getting a high enough voltage to reach the ON threshold. </p>

<p>If your circuit is setup:</p>

<p>[Vin]-----[10k Resistor]---[switch]---[pin]---[LED]---[Gnd]</p>

<p>The forward bias of the LED is generally about 1.8 volts so, when you push the switch, the voltage at the pin is only about 1.8 volts. Typically, with a boolean pin, "HIGH" is triggered for voltages above about 60% of Vin, "LOW" is triggered for voltages below about 30% of Vin, and anything in between is unreliable and, depending on the system, either ignored or may be counted as high or low.</p>

<p>My advice would be to put the 10k resistor between the input pin and the LED, so when you close the switch the input pin is reading 5V. If you don't want the full 5V on the pin, then you could set up a voltage divider by putting one smaller resistor between 5V and the pin, and another one (the remainder of the 10k of resistance you were originally using) between the pin and the LED. </p>

<p>I'm not familiar enough with the Arduino to know what your maximum allowable voltage is on the input pin (5V or 3.3V), so we'll consider a couple cases. </p>

<p>First, is that you're allowed to put 5V on the input pin. In that case, just move the full 10k between the input pin and the LED:</p>

<p>[Vin]----[switch]---[pin]---[10k Resistor]---[LED]---[Gnd]</p>

<p>Second is that you're only allowed 3.3V on the input pin. In this case, I would suggest you first measure voltage at the positive end of the LED when the circuit is completed. 1.8V is a general assumption; it might be different based on LED color. </p>

<p>You want 3.3V, but there is some voltage drop at the LED that fixes the "minimum" voltage you can get - let's call it V_LED. </p>

<p>What you want to do is to make up the difference between V_LED and 3.3V to get 3.3V on the input pin. Your input voltage is 5V, so you want a voltage divider that gives you:</p>

<p>(5V to 3.3V) on the high end
(3.3V to V_LED) on the low end. </p>

<p>The total voltage drop should be (5V to V_LED), so you want one resistor that is</p>

<p>(5V-3.3V)/(5V-V_LED) * 10k</p>

<p>and one resistor that is:</p>

<p>(3.3V - V_LED)/(5V-V_LED) * 10k</p>

<p>Assuming again that V_LED is 1.8V, this means that you should get:</p>

<p>$$
R_1 = \frac{5-3.3}{5-1.8}*10k\Omega \\
R_1 = \frac{1.7}{3.2}*10k\Omega \\
R_1 = 5.3 k\Omega \\
$$
$$ 
R_2 = \frac{3.3-1.8}{5-1.8}*10k\Omega \\
R_2 = \frac{1.5}{3.2}*10k\Omega \\
R_2 = 4.7 k\Omega \\
$$</p>

<p>[Vin]-----[switch]-----[5.3k Resistor]----[pin]----[4.7k Resistor]---[LED]---[Gnd]</p>

<p>As you can see, $R_1 + R_2 = 10k\Omega$, so you still get the 10k resistance you need for the LED, but now the voltage at the input pin is 3.3V instead of the 1.8V (or V_LED, whatever it measures to be). </p>

<p>In general, when you are trying to measure a HIGH input value, you should attempt to send the nominal HIGH voltage that the input is expecting. Trying to send borderline values (minimum value for HIGH, etc.) is begging for trouble. </p>
</p><br>
			</div>
			<div class = "userinfosection"  id = "userinfo-11871" data-toggle = "popover">
				<p>user name : Chuck</p>
				<p> user reputation : 8534</p>
				<p class = "tagcontent" id = "usertaginfo-11871">{'actuator': 7, 'None': 616, 'dynamics': 7, 'joint': 7}</p>
			</div><br><h3>Comments</h3>
				<button data-toggle = 'collapse' data-target = "#commentsection-11871">Load Comments</button></br>
			<div id = "commentsection-11871" class = 'collapse'>
			<div id = "comment-21114" class = "comment">
				<p>Then why it works with any other analog input i.e. A1,A2,A3,A4,A5?</p>
			</div>
			<div id = "comment-21118" class = "comment">
				<p>@user16402 - It could be a number of different things, from noise to capacitive coupling to the pullup configuration for the pin. Like I mention in the post, the only time you're *guaranteed* to read a high or low correctly is when you exceed the threshold for that level. If you operate in the middle ground then you get arbitrary results. I see you accepted the answer - did moving the resistor work?</p>
			</div>
			<div id = "comment-21125" class = "comment">
				<p>yes now that is working perfectly</p>
			</div>
			</div>
				<textarea id = "speech-11871" rows="3" cols="80"></textarea><br>
				<button class="record-start" id="start-11871">
					<img id="start_img-11871" src="/mic.gif" alt="Start">
				</button>
				<button class = "comment-btn" id = "comment-btn-11871">Comment</button>
			</div>
			<div id = "resourcestab" class = "resourcestab">
				<ul class="nav nav-tabs">
					<li class="active"><a data-toggle="tab" href="#resources">Resources</a></li>
					<li><a data-toggle="tab" href="#summary">Summary</a></li>
					<li><a data-toggle="tab" href="#highlights">Highlights</a></li>
				</ul>
					<div class="tab-content">
						<div id="resources" class="tab-pane fade in active">
							<h3>Links from the Page</h3>
							<div id = "resourcescontent"></div>
						</div>
						<div id="summary" class="tab-pane fade">
							<h3>Summary</h3>
							<div id = "summarycontent"></div>
						</div>
						<div id="highlights" class="tab-pane fade">
							<h3>Highlights</h3>
							<div id = "highlightcontent"></div>
						</div>
			</div>
			</div>
			<footer>Moore & Peps collaboration.</footer>
	</div>
	<script src="/post.js"></script>
	<script type="text/javascript">
		$("#loginmodals").load("/loginModal.html");
		$("#issuemodals").load("/issueModal.html");
		$("#highlight_tool").load("/highlight_tool.html");
		$("#comment_tool").load("/comment_tool.html");
		checkLoggedInUser()
		var content = $('.content').html();
		populateResources(content)
		getHighlights()
		setOnLinksHover()
	</script>
	<script src="/media.js"></script>
	<script src="/vote.js"></script>
	<script src="/managefunction.js"></script>
	</body>
</html>