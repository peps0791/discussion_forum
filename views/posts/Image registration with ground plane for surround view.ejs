<html>
	<head>
		<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
		<script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="  crossorigin="anonymous"></script>
		<script src = "/jquery-highlight.js"></script>
		<link href="/jquery.upvote.css" rel="stylesheet">
		<script src = "/jquery.upvote.js" type="text/javascript"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
		<link rel="stylesheet" href="/style.css"/>
		<script src="/createlinks.js"></script>
		<script src="/textaudit.js"></script>
		<script src="/PorterStemmer1980.min.js"></script>
		<script src="/highlight.js"></script>
		<title id = 'pagetitle'>Image registration with ground plane for surround view
		</title>
	</head>
	<body id = 'pagebody'>
		<div id = "loginmodals"></div>
		<div id = "issuemodals"></div>
		<div id = "highlight_tool"></div>
		<div id = "reward_tool"></div>
		<div id = "comment_tool"></div>
		<div class = "container">
			<header>
				<h1>Just Another Discussion Forum</h1>
			</header>
			<div class="topnav" id="myTopnav">
				<a href="/home">Home</a>
				<a href = "#issueModal" data-toggle="modal" style = "float:right">Report Issue</a>
			</div>
			<div class = "content">
			<div id = "ques-12616" class = "post">
			<h2>Question</h2>
			<div id="vote-12616" class="upvote" style="float:left;">
				<a class="upvote"></a>
				<span class="count">4</span>
				<a class="downvote"></a>
				<a class="star"></a>
				<p>Views :: 58</p>
			</div>
			<form id = "questionpostsform" method="GET" action = "/ask">
				<input type="submit" id = "quesbtn" class="btn btn-primary btn-lg" value="Ask Question">
			</form>
				<h2>Image registration with ground plane for surround view</h2>
<p>I am currently working on a project which which involves surround view.</p>

<p>I have 4 fish eye cameras and are fixed at 4 sides of a car.The fish eye cameras are corrected for radial distortion.</p>

<p>After radial correction,Each camera sees a pattern in the Common FOV of adjacent camera to get the points on the ground plane.</p>

<p><strong>Pattern in the common FOV of adjacent camera</strong></p>

<p><a href="https://i.stack.imgur.com/z6CsL.jpg" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/z6CsL.jpg" alt="enter image description here"></a></p>

<p>Now for each camera I need to warp those points to a plane which is the birds eye view. </p>

<p><strong>Right now I choose those 8 red points, map first 4 points on a square and the other 4 points on another square on the same line,since I know that both squares lie parallel to each other at some distance,for front and back images and use the same points for left and right also appropriately so that left image comes left and right image comes right of the result.</strong></p>

<p>Then I calculate Homography Matrix for each image(front,left,right and back) using the points in the Image and the birds eye plane.</p>

<p>I map the points such that warped front image sits at the top, left sits at the left side and right at the right side and then back sits at bottom of image .</p>

<p><strong>Example, Front sits at the top of result image</strong></p>

<p><a href="https://i.stack.imgur.com/OcIHK.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/OcIHK.png" alt="enter image description here"></a></p>

<p><strong>Left sits at the Left of result image</strong><a href="https://i.stack.imgur.com/6TxeV.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/6TxeV.png" alt="enter image description here"></a></p>

<p>I do this so that I can stitch properly,forming a composite view.</p>

<p><strong>My final stitched image looks like below.</strong></p>

<p><a href="https://i.stack.imgur.com/pN7bN.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/pN7bN.png" alt="enter image description here"></a></p>

<p>As you can see, the geometrical alignment is not proper.</p>

<p><strong>QUESTIONS</strong></p>

<ol>
<li><p>What is the right way of registering each image with the ground plane.</p></li>
<li><p>From the object points shown as red dots, <strong>what is the proper way to get the corresponding points in the bird's eye plane.</strong></p></li>
</ol>

			</div>
			<div class = "userinfosection"  id = "userinfo-12616" data-toggle = "popover">
				<p>user name : Nithin</p>
				<p> user reputation : 31</p>
				<p class = "tagcontent" id = "usertaginfo-12616">{'None': 0, 'computer-vision': 2, 'pose': 1, 'calibration': 1, 'geometry': 0, 'cameras': 6, 'opencv': 5}</p>
			</div><br>
			<br><h3>Comments</h3>
				<button data-toggle = 'collapse' data-target = "#commentsection-12616">Load Comments</button></br>
			<div id = "commentsection-12616" class = 'collapse'>
			<div id = "comment-22852" class = "comment">
				<p>How do you stitch the images together ?</p>
			</div>
			<div id = "comment-22854" class = "comment">
				<p>@Malcolm I start from the front image and then go clockwise and replace the older overlapped part with the current image.</p>
			</div>
			</div>
				<textarea id = "speech-12616" rows="3" cols="80"></textarea><br>
				<button class="record-start" id="start-12616">
					<img id="start_img-12616" src="/mic.gif" alt="Start">
				</button>
				<button class = "comment-btn" id = "comment-btn-12616">Comment</button>

<h1>Answers</h1>
			<br><div id = "ans-14006"  class = "post">
				<h2>Answer</h2>
			<div id="vote-14006" class="upvote" style="float:left;">
				<a class="upvote"></a>
				<span class="count">3</span>
				<a class="downvote"></a>
				<a class="star"></a>
			</div>
				<p><p>I don't know what the proper way to do this is but I can give you ideas to make it better:</p>

<ul>
<li><p>define an exact transformation for each camera. You could calibrate each camera using a grid pattern and by using a bigger one, multiple pictures, and averaging the transforms, you could define the transformation between the fish eye view and the normal view more accurately and wouldn't need the pattern on the image later on. Im on my phone so I can find any more info or links on this but there are plenty :).</p></li>
<li><p>use image registration techniques. Use keypoints and descriptors on the image and register then using something like ransac for example. A good library to do that is openCV. Look at <a href="http://vgg.fiit.stuba.sk/2016-06/panorama-image-registration/" rel="nofollow noreferrer">this for example</a> but I think you can find plenty of better tutorials.</p></li>
</ul>

<p>Ideally, you should use both of those technics :).</p>
</p><br>
			</div>
			<div class = "userinfosection"  id = "userinfo-14006" data-toggle = "popover">
				<p>user name : Malcolm</p>
				<p> user reputation : 393</p>
				<p class = "tagcontent" id = "usertaginfo-14006">{'communication': 1, 'None': 24, 'serial': 1}</p>
			</div><br><h3>Comments</h3>
				<button data-toggle = 'collapse' data-target = "#commentsection-14006">Load Comments</button></br>
			<div id = "commentsection-14006" class = 'collapse'>
			<div id = "comment-22856" class = "comment">
				<p>Have tried many things...but without the actual destination points from image plane to bird's eye view plane, it is really tough..else we need an Ideal image taken exactly from the top(what I am doing now) so that we get a reference image for for bird eye view plane..then we can construct a proper homography between points in the image and the corresponding points in the IDEAL reference image....I do follow your techniques to obtain homography matrix...Thank you for ur time</p>
			</div>
			</div>
				<textarea id = "speech-14006" rows="3" cols="80"></textarea><br>
				<button class="record-start" id="start-14006">
					<img id="start_img-14006" src="/mic.gif" alt="Start">
				</button>
				<button class = "comment-btn" id = "comment-btn-14006">Comment</button>
			</div>
			<div id = "resourcestab" class = "resourcestab">
				<ul class="nav nav-tabs">
					<li class="active"><a data-toggle="tab" href="#resources">Resources</a></li>
					<li><a data-toggle="tab" href="#highlights">Highlights</a></li>
				</ul>
					<div class="tab-content">
						<div id="resources" class="tab-pane fade in active">
							<h3>Links from the Page</h3>
							<div id = "resourcescontent"></div>
						</div>
						<div id="highlights" class="tab-pane fade">
							<h3>Highlights</h3>
							<div id = "highlightcontent"></div>
						</div>
			</div>
			</div>
			<footer>Moore & Peps collaboration.</footer>
	</div>
	<script src="/post.js"></script>
	<script type="text/javascript">
		$("#loginmodals").load("/loginModal.html");
		$("#issuemodals").load("/issueModal.html");
		$("#highlight_tool").load("/highlight_tool.html");
		$("#comment_tool").load("/comment_tool.html");
		$("#reward_tool").load("/reward_tool.html");
		checkLoggedInUser()
		var content = $('.content').html();
		populateResources(content)
		getHighlights()
		setOnLinksHover()
	</script>
	<script src="/media.js"></script>
	<script src="/vote.js"></script>
	<script src="/managefunction.js"></script>
	</body>
</html>