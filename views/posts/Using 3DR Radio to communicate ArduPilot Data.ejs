<html>
	<head>
		<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
		<script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="  crossorigin="anonymous"></script>
		<script src = "/jquery-highlight.js"></script>
		<link href="/jquery.upvote.css" rel="stylesheet">
		<script src = "/jquery.upvote.js" type="text/javascript"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
		<link rel="stylesheet" href="/style.css"/>
		<script src="/createlinks.js"></script>
		<script src="/textaudit.js"></script>
		<script src="/PorterStemmer1980.min.js"></script>
		<script src="/highlight.js"></script>
		<title id = 'pagetitle'>Using 3DR Radio to communicate ArduPilot Data
		</title>
	</head>
	<body id = 'pagebody'>
		<div id = "loginmodals"></div>
		<div id = "issuemodals"></div>
		<div id = "highlight_tool"></div>
		<div class = "container">
			<header>
				<h1>Just Another Discussion Forum</h1>
			</header>
			<div class="topnav" id="myTopnav">
				<a href="/home">Home</a>
				<a href = "#issueModal" data-toggle="modal" style = "float:right">Report Issue</a>
			</div>
			<div class = "content">
			<div id = "ques-2692" class = "post">
			<h2>Question</h2>
			<div id="vote-2692" class="upvote" style="float:left;">
				<a class="upvote"></a>
				<span class="count">1</span>
				<a class="downvote"></a>
				<a class="star"></a>
				<p>Views :: 415</p>
			</div>
			<form id = "questionpostsform" method="GET" action = "/ask">
				<input type="submit" id = "quesbtn" class="btn btn-primary btn-lg" value="Ask Question">
			</form>
				<h2>Using 3DR Radio to communicate ArduPilot Data</h2>
<p>I am trying to send some data over to my PC from the Arduipilot, I used a Normal USB connection to send over a recurring string like this:-</p>

<pre><code>const AP_HAL::HAL&amp; hal = AP_HAL_BOARD_DRIVER;

void setup()
{
   hal.uartA-&gt;begin(38400);
}

void loop()
{
    hal.scheduler-&gt;delay(20);
    hal.console-&gt;println("Recd_String");
}
AP_HAL_MAIN();
</code></pre>

<p>I receive the string just fine when I open a serial monitor with baud of 38400 bits/sec. But, when I remove the USB port and plug in the 3DR radio module to the ardupilot and the PC, it gives me garbage. I know that the 3DR radios use MAVLink communication protocol, but I was wondering if it's possible to change this protocol and use a normal SPI so that I receive the data in the same format I receive when connected via USB.</p>

<p>If this is not possible, is there a way to convert this garbled data from the radio module to a useful string. 
It would be greatly appreciated if someone can help me with this.</p>

			</div>
			<div class = "userinfosection"  id = "userinfo-2692" data-toggle = "popover">
				<p>user name : Gurmehar Lugani</p>
				<p> user reputation : 6</p>
				<p class = "tagcontent" id = "usertaginfo-2692">{'radio-control': 1, 'None': 0, 'ardupilot': 1}</p>
			</div><br>
			<br><h3>Comments</h3>
				<button data-toggle = 'collapse' data-target = "#commentsection-2692">Load Comments</button></br>
			<div id = "commentsection-2692" class = 'collapse'>
			<div id = "comment-5061" class = "comment">
				<p>I do similar things with the radio module. However I use Uart2 instead of UartA, because I cut the hardware mux. Do you use the 3DR radio config tool for debugging the radio output? Maybe something is wrong with the baud or sending rate on one of the ends. It is in 90% of the cases a wrong baud rate..</p>
			</div>
			</div>
				<textarea id = "speech-2692" rows="3" cols="80"></textarea><br>
				<button class="record-start" id="start-2692">
					<img id="start_img-2692" src="/mic.gif" alt="Start">
				</button>
				<button class = "comment-btn" id = "comment-btn-2692">Comment</button>

<h1>Answers</h1>
			<br><div id = "ans-7021"  class = "post">
				<h2>Answer</h2>
			<div id="vote-7021" class="upvote" style="float:left;">
				<a class="upvote"></a>
				<span class="count">1</span>
				<a class="downvote"></a>
				<a class="star"></a>
			</div>
				<p><p>The 3DR radios by default use 57600 baud, be sure that it is set properly on both the sending and receiving side, this has been the source of many problems for me.</p>
</p><br>
			</div>
			<div class = "userinfosection"  id = "userinfo-7021" data-toggle = "popover">
				<p>user name : Mark Omo</p>
				<p> user reputation : 1786</p>
				<p class = "tagcontent" id = "usertaginfo-7021">{'None': 119}</p>
			</div><br><h3>Comments</h3><p>no comments yet<p><br>
			<div id = "commentsection-7021" class = 'collapse'>
			</div>
				<textarea id = "speech-7021" rows="3" cols="80"></textarea><br>
				<button class="record-start" id="start-7021">
					<img id="start_img-7021" src="/mic.gif" alt="Start">
				</button>
				<button class = "comment-btn" id = "comment-btn-7021">Comment</button>
			</div>
			<div id = "resourcestab" class = "resourcestab">
				<ul class="nav nav-tabs">
					<li class="active"><a data-toggle="tab" href="#resources">Resources</a></li>
					<li><a data-toggle="tab" href="#summary">Summary</a></li>
				</ul>
					<div class="tab-content">
						<div id="resources" class="tab-pane fade in active">
							<h3>Resources</h3>
							<div id = "resourcescontent"></div>
						</div>
						<div id="summary" class="tab-pane fade">
							<h3>Summary</h3>
							<div id = "summarycontent"></div>
						</div>
			</div>
			</div>
			<footer>Moore & Peps collaboration.</footer>
	</div>
	<script src="/post.js"></script>
	<script type="text/javascript">
		$("#loginmodals").load("/loginModal.html");
		$("#issuemodals").load("/issueModal.html");
		$("#highlight_tool").load("/highlight_tool.html");
		checkLoggedInUser()
		var content = $('.content').html();
		populateResources(content)
		getHighlights()
		setOnLinksHover()
	</script>
	<script src="/media.js"></script>
	<script src="/vote.js"></script>
	<script src="/managefunction.js"></script>
	</body>
</html>