<html>
	<head>
		<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
		<script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="  crossorigin="anonymous"></script>
		<script src = "/jquery-highlight.js"></script>
		<link href="/jquery.upvote.css" rel="stylesheet">
		<script src = "/jquery.upvote.js" type="text/javascript"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
		<link rel="stylesheet" href="/style.css"/>
		<script src="/createlinks.js"></script>
		<script src="/textaudit.js"></script>
		<script src="/PorterStemmer1980.min.js"></script>
		<script src="/highlight.js"></script>
		<title id = 'pagetitle'>Wall following using hokuyo lidar and sharp IR sensors
		</title>
	</head>
	<body id = 'pagebody'>
		<div id = "loginmodals"></div>
		<div id = "issuemodals"></div>
		<div id = "highlight_tool"></div>
		<div id = "comment_tool"></div>
		<div class = "container">
			<header>
				<h1>Just Another Discussion Forum</h1>
			</header>
			<div class="topnav" id="myTopnav">
				<a href="/home">Home</a>
				<a href = "#issueModal" data-toggle="modal" style = "float:right">Report Issue</a>
			</div>
			<div class = "content">
			<div id = "ques-7942" class = "post">
			<h2>Question</h2>
			<div id="vote-7942" class="upvote" style="float:left;">
				<a class="upvote"></a>
				<span class="count">4</span>
				<a class="downvote"></a>
				<a class="star"></a>
				<p>Views :: 413</p>
			</div>
			<form id = "questionpostsform" method="GET" action = "/ask">
				<input type="submit" id = "quesbtn" class="btn btn-primary btn-lg" value="Ask Question">
			</form>
				<h2>Wall following using hokuyo lidar and sharp IR sensors</h2>
<p>I have a mobile robot and I would like it to follow the walls of a room.</p>

<p>I have:</p>

<ul>
<li>A map of the room. </li>
<li>Wheel encoders for the odometry.</li>
<li>A Kalman filter for fusing data from wheel encoders and IMU. </li>
<li>A Hokuyo lidar for localization and obstacle avoidance</li>
<li>A Kinect to see obstacles which can not be seen by the Hokuyo. </li>
<li><a href="http://wiki.ros.org/amcl" rel="nofollow noreferrer">Amcl</a> for localization.</li>
<li>A couple of sharp sensors on the side for wall following. </li>
</ul>

<p>I am not planning to use the global or local <a href="http://wiki.ros.org/costmap_2d" rel="nofollow noreferrer">costmap</a> because the localization of the robot is not perfect and the robot might think that it is closer (or further away) to the wall than it actually is and therefore, wall following might fail. So, I am planning to just use the data from Hokuyo lidar and sharp sensors to do wall following and maintain constant distance from the wall (say 10 cm). </p>

<p>Now, I would like to know what is the best technique for doing wall following in this manner? Also, how can one deal with the issue of open gaps in the wall (like open doors, etc..) while doing wall following using the above approach?</p>

<p>I know this is a very general question but any suggestions regarding it will be appreciated. Please let me know if you need more information from me.</p>

<p><strong>Update:</strong><br>
I am just trying to do wall following in a given room (I have the vertices of the room in a global reference frame) For example, Lets say I have a map of a room (shown below). I want to make the robot follow the wall very closely (say 10 cm from the wall). Also, if there is an open space (on bottom left), the robot should not go in the adjacent room but should keep on doing wall following in the given room (For this, I have the boundary limits of the room which I can use to make sure the robot is within the given room).<br>
The approach which I am thinking is to come up with an initial global path (set of points close to the wall) for wall following and then make sure robot goes from one point to the next making sure that it always maintains a certain distance from the wall. If there is no wall, then the robot can just follow the global path (assuming localization is good). I am not sure about its implementation complexity and whether there is a better algorithm/ approach to do something like this.</p>

<p><a href="https://i.stack.imgur.com/9lFqg.png" rel="nofollow noreferrer"><img src="https://i.stack.imgur.com/9lFqg.png" alt="enter image description here"></a></p>

			</div>
			<div class = "userinfosection"  id = "userinfo-7942" data-toggle = "popover">
				<p>user name : Naman Kumar</p>
				<p> user reputation : 36</p>
				<p class = "tagcontent" id = "usertaginfo-7942">{'None': 0, 'ros': 3, 'localization': 4, 'coverage': 3, 'sensors': 4, 'motion-planning': 3, 'navigation': 7}</p>
			</div><br>
			<br><h3>Comments</h3>
				<button data-toggle = 'collapse' data-target = "#commentsection-7942">Load Comments</button></br>
			<div id = "commentsection-7942" class = 'collapse'>
			<div id = "comment-11676" class = "comment">
				<p>You ask for "wall following" - is this a maze? Are you trying to get to some specific location? It sounds like wall following is a specific solution for a problem. What is the problem you are trying to solve? It sounds like you're  just looking for a [localization algorithm](http://www8.cs.umu.se/research/ifor/dl/LOCALIZATION-NAVIGATION/Localization%20Using%20Laser%20scanning%20and%20Minimalistic%20Environmental%20Models.pdf) but it's not especially clear to me from your question.</p>
			</div>
			<div id = "comment-11677" class = "comment">
				<p>This can be any room and I am just trying to follow the wall of that room. I am using ros and the [amcl](http://wiki.ros.org/amcl) localization algorithm which is working pretty good. I just want to make sure the robot follows the wall accurately and avoids the obstacles close to the wall. I have updated my original question.</p>
			</div>
			</div>
				<textarea id = "speech-7942" rows="3" cols="80"></textarea><br>
				<button class="record-start" id="start-7942">
					<img id="start_img-7942" src="/mic.gif" alt="Start">
				</button>
				<button class = "comment-btn" id = "comment-btn-7942">Comment</button>

<h1>Answers</h1>
			<br><div id = "ans-7946"  class = "post">
				<h2>Answer</h2>
			<div id="vote-7946" class="upvote" style="float:left;">
				<a class="upvote"></a>
				<span class="count">1</span>
				<a class="downvote"></a>
				<a class="star"></a>
			</div>
				<p><p>For a first attempt I would suggest constructing an angle histogram. See page 188-191 of this (old but still useful) reference:
<a href="http://www-personal.umich.edu/~johannb/Papers/pos96rep.pdf" rel="nofollow">http://www-personal.umich.edu/~johannb/Papers/pos96rep.pdf</a></p>

<p>In other words, construct straight line segments representing parts of the wall from your scan points.  Then identify the nearest wall and estimate its direction from the histogram, or perhaps by directly taking scan points along that region of the wall and making a least squares fit or some other average.</p>

<p>Once you have an approximate straight line for the wall, it should be possible to produce a turn command for the vehicle to steer itself.</p>
</p><br>
			</div>
			<div class = "userinfosection"  id = "userinfo-7946" data-toggle = "popover">
				<p>user name : Andy</p>
				<p> user reputation : 796</p>
				<p class = "tagcontent" id = "usertaginfo-7946">{'None': 59}</p>
			</div><br><h3>Comments</h3><p>no comments yet<p><br>
			<div id = "commentsection-7946" class = 'collapse'>
			</div>
				<textarea id = "speech-7946" rows="3" cols="80"></textarea><br>
				<button class="record-start" id="start-7946">
					<img id="start_img-7946" src="/mic.gif" alt="Start">
				</button>
				<button class = "comment-btn" id = "comment-btn-7946">Comment</button>
			</div>
			<div id = "resourcestab" class = "resourcestab">
				<ul class="nav nav-tabs">
					<li class="active"><a data-toggle="tab" href="#resources">Resources</a></li>
					<li><a data-toggle="tab" href="#summary">Summary</a></li>
					<li><a data-toggle="tab" href="#highlights">Highlights</a></li>
				</ul>
					<div class="tab-content">
						<div id="resources" class="tab-pane fade in active">
							<h3>Links from the Page</h3>
							<div id = "resourcescontent"></div>
						</div>
						<div id="summary" class="tab-pane fade">
							<h3>Summary</h3>
							<div id = "summarycontent"></div>
						</div>
						<div id="highlights" class="tab-pane fade">
							<h3>Highlights</h3>
							<div id = "highlightcontent"></div>
						</div>
			</div>
			</div>
			<footer>Moore & Peps collaboration.</footer>
	</div>
	<script src="/post.js"></script>
	<script type="text/javascript">
		$("#loginmodals").load("/loginModal.html");
		$("#issuemodals").load("/issueModal.html");
		$("#highlight_tool").load("/highlight_tool.html");
		$("#comment_tool").load("/comment_tool.html");
		checkLoggedInUser()
		var content = $('.content').html();
		populateResources(content)
		getHighlights()
		setOnLinksHover()
	</script>
	<script src="/media.js"></script>
	<script src="/vote.js"></script>
	<script src="/managefunction.js"></script>
	</body>
</html>