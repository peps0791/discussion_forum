<html>
	<head>
		<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
		<script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="  crossorigin="anonymous"></script>
		<script src = "/jquery-highlight.js"></script>
		<link href="/jquery.upvote.css" rel="stylesheet">
		<script src = "/jquery.upvote.js" type="text/javascript"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
		<link rel="stylesheet" href="/style.css"/>
		<script src="/createlinks.js"></script>
		<script src="/textaudit.js"></script>
		<script src="/PorterStemmer1980.min.js"></script>
		<script src="/highlight.js"></script>
		<title id = 'pagetitle'>Should I use an arduino to control my balancing robot's motors?
		</title>
	</head>
	<body id = 'pagebody'>
		<div id = "loginmodals"></div>
		<div id = "issuemodals"></div>
		<div id = "highlight_tool"></div>
		<div class = "container">
			<header>
				<h1>Just Another Discussion Forum</h1>
			</header>
			<div class="topnav" id="myTopnav">
				<a href="/home">Home</a>
				<a href = "#issueModal" data-toggle="modal" style = "float:right">Report Issue</a>
			</div>
			<div class = "content">
			<div id = "ques-10902" class = "post">
			<h2>Question</h2>
			<div id="vote-10902" class="upvote" style="float:left;">
				<a class="upvote"></a>
				<span class="count">4</span>
				<a class="downvote"></a>
				<a class="star"></a>
				<p>Views :: 122</p>
			</div>
			<form id = "questionpostsform" method="GET" action = "/ask">
				<input type="submit" id = "quesbtn" class="btn btn-primary btn-lg" value="Ask Question">
			</form>
				<h2>Should I use an arduino to control my balancing robot's motors?</h2>
<p>I'm building a 2-wheel balancing robot from old parts. DC motors from an old printer, wheels from a BBQ, bodywork from an old optical drive etc.</p>

<p>The brain of the robot is a Raspberry Pi 3. I'm using an L298N motor driver to control 2x 12-35v DC motors. Balance and movement will be 'sensed' using a 10DOF L3GD20 LSM303D Gyro, Accelerometer &amp; Compass board. I'm currently using an Arduino with PWM for multi speed and direction of each motor. A PID loop will keep the robot balanced.</p>

<p>It looks like this:
Raspberry Pi > Arduino > L298N > Motors</p>

<p>So far everything is good (don't worry I'm not going to ask "Where do I start??" :D)</p>

<p>My question is this: should I continue to control the sensors and motors' driver using the Arduino, having the Pi issue higher level commands to the Arduino, OR should I just let the Pi do all the leg work?</p>

<p>I'm trying to keep power consumption to a minimum but I want to keep the processing overhead of the balancing and movement away from the Pi. Additionally, I've read that an Arduino is better at this sort of work due to the fact that it has a built in clock, where a Pi doesn't. I assume the PID loop will be slowed if the device (the Pi) is working on other processing tasks like navigation and face recognition etc.</p>

<p>Are my assumptions correct and which direction would guys steer towards?</p>

<p>Your knowledge and wise words would be very much appreciated!!</p>

			</div>
			<div class = "userinfosection"  id = "userinfo-10902" data-toggle = "popover">
				<p>user name : Dave</p>
				<p> user reputation : 21</p>
				<p class = "tagcontent" id = "usertaginfo-10902">{'None': 0, 'pwm': 4, 'raspberry-pi': 4, 'arduino': 4, 'motor': 4, 'balance': 4}</p>
			</div><br>
			<br><h3>Comments</h3>
				<button data-toggle = 'collapse' data-target = "#commentsection-10902">Load Comments</button></br>
			<div id = "commentsection-10902" class = 'collapse'>
			<div id = "comment-19644" class = "comment">
				<p>If you were not going to send the feedback to the Arduino, then why would you use the Arduino at all?</p>
			</div>
			</div>
				<textarea id = "speech-10902" rows="3" cols="80"></textarea><br>
				<button class="record-start" id="start-10902">
					<img id="start_img-10902" src="/mic.gif" alt="Start">
				</button>
				<button class = "comment-btn" id = "comment-btn-10902">Comment</button>

<h1>Answers</h1>
			<br><div id = "ans-10911"  class = "post">
				<h2>Answer</h2>
			<div id="vote-10911" class="upvote" style="float:left;">
				<a class="upvote"></a>
				<span class="count">4</span>
				<a class="downvote"></a>
				<a class="star"></a>
			</div>
				<p><p>If you want to have a good balancing, PID loop timing is very important. Standard Raspberry OS, like Raspbian can't guarantee you any precise timing, so once your loop period may be 10ms, once it can be 1s, resulting in a robot to fall. You can try to run some real time operating system on RPi, like FreeRTOS, that would have preemptive capabilities (so a process with high priority, like PID, would interrupt other, lower priority processes). </p>

<p>That being said, I think that using an Arduino is a very good choice, as it nicely separates high level processing, from low level control tasks.</p>
</p><br>
			</div>
			<div class = "userinfosection"  id = "userinfo-10911" data-toggle = "popover">
				<p>user name : mactro</p>
				<p> user reputation : 925</p>
				<p class = "tagcontent" id = "usertaginfo-10911">{'control': 1, 'None': 59, 'radio-control': 1, 'pid': 1, 'wifi': 1, 'wheeled-robot': 1, 'mechanism': 1, 'automation': 1, 'wireless': 1, 'industrial-robot': 2, 'design': 1, 'cnc': 2, 'actuator': 2, 'mobile-robot': 2}</p>
			</div><br><h3>Comments</h3>
				<button data-toggle = 'collapse' data-target = "#commentsection-10911">Load Comments</button></br>
			<div id = "commentsection-10911" class = 'collapse'>
			<div id = "comment-19642" class = "comment">
				<p>To clarify one point half-asked in the initial question: a RasPi *does* have an internal clock, all computers need one to work. *BUT*, not all clocks are created equal. The software on the RasPi is not capable of 'real time' operations (where the time an operation is completed is critical, instead of starting and ending whenever it happens to). Arduinos technically aren't either, but for your use, they might as well be. Use the Arduino for balance, it can do so out of the box and without complicating the rest of your design (like loading FreeRTOS on the RasPi might do).</p>
			</div>
			</div>
				<textarea id = "speech-10911" rows="3" cols="80"></textarea><br>
				<button class="record-start" id="start-10911">
					<img id="start_img-10911" src="/mic.gif" alt="Start">
				</button>
				<button class = "comment-btn" id = "comment-btn-10911">Comment</button>
			</div>
			<div id = "resourcestab" class = "resourcestab">
				<ul class="nav nav-tabs">
					<li class="active"><a data-toggle="tab" href="#resources">Resources</a></li>
					<li><a data-toggle="tab" href="#summary">Summary</a></li>
				</ul>
					<div class="tab-content">
						<div id="resources" class="tab-pane fade in active">
							<h3>Resources</h3>
							<div id = "resourcescontent"></div>
						</div>
						<div id="summary" class="tab-pane fade">
							<h3>Summary</h3>
							<div id = "summarycontent"></div>
						</div>
			</div>
			</div>
			<footer>Moore & Peps collaboration.</footer>
	</div>
	<script src="/post.js"></script>
	<script type="text/javascript">
		$("#loginmodals").load("/loginModal.html");
		$("#issuemodals").load("/issueModal.html");
		$("#highlight_tool").load("/highlight_tool.html");
		checkLoggedInUser()
		var content = $('.content').html();
		populateResources(content)
		getHighlights()
		setOnLinksHover()
	</script>
	<script src="/media.js"></script>
	<script src="/vote.js"></script>
	<script src="/managefunction.js"></script>
	</body>
</html>