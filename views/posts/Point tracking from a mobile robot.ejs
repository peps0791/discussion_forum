<html>
	<head>
		<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
		<script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="  crossorigin="anonymous"></script>
		<script src = "/jquery-highlight.js"></script>
		<link href="/jquery.upvote.css" rel="stylesheet">
		<script src = "/jquery.upvote.js" type="text/javascript"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
		<link rel="stylesheet" href="/style.css"/>
		<script src="/createlinks.js"></script>
		<script src="/textaudit.js"></script>
		<script src="/PorterStemmer1980.min.js"></script>
		<script src="/highlight.js"></script>
		<title id = 'pagetitle'>Point tracking from a mobile robot
		</title>
	</head>
	<body id = 'pagebody'>
		<div id = "loginmodals"></div>
		<div id = "issuemodals"></div>
		<div id = "highlight_tool"></div>
		<div class = "container">
			<header>
				<h1>Just Another Discussion Forum</h1>
			</header>
			<div class="topnav" id="myTopnav">
				<a href="/home">Home</a>
				<a href = "#issueModal" data-toggle="modal" style = "float:right">Report Issue</a>
			</div>
			<div class = "content">
			<div id = "ques-2771" class = "post">
			<h2>Question</h2>
			<div id="vote-2771" class="upvote" style="float:left;">
				<a class="upvote"></a>
				<span class="count">2</span>
				<a class="downvote"></a>
				<a class="star"></a>
				<p>Views :: 127</p>
			</div>
			<form id = "questionpostsform" method="GET" action = "/ask">
				<input type="submit" id = "quesbtn" class="btn btn-primary btn-lg" value="Ask Question">
			</form>
				<h2>Point tracking from a mobile robot</h2>
<p>How can I track a fixed point $P=(x_P, y_P)$  from a moving robot?</p>

<p>Coordinates of $P$ are relative to the state/pose of the robot (x axis looks forward the robot and y axis is positive on the right of the robot).
Suppose that the initial robot state/pose is at $S_{R}=(x_R, y_R, \theta_R)$.
The next frame (namely after $\Delta t$) with the applied control $(v, \omega)$ the robot is at state $S_{R'}=(x_{R'}, y_{R'}, \theta_{R'})$.</p>

<p>Where (I set the axes as OpenCV):</p>

<p>$x_{R'} = x_R + v cos(\theta_R) \Delta t $ </p>

<p>$y_{R'} = y_R + v sin(\theta_R) \Delta t $ </p>

<p>$\theta_{R'} = \theta_{R} + \omega\Delta t$</p>

<p>The question is: which are the coordinates $(x_P', y_P')$ of the same point $P$ relative to $S_{R'}$?</p>

<p><img src="https://i.stack.imgur.com/TgM1h.png" alt="enter image description here"></p>

<p>As visible in the picture, I know the transformation from the initial state to the next state of the robot and the coordinate of P in reference to the initial state</p>

<p>$$
t = \begin{pmatrix}
cos(\theta_{R'}) &amp; -sin(\theta_{R'}) &amp; x_{R'}\\
sin(\theta_{R'}) &amp; cos(\theta_{R'}) &amp; y_{R'}\\
0 &amp; 0 &amp; 1\\
\end{pmatrix}
$$</p>

<p>Please correct me if I made some mistakes!</p>

<p>Thank you, any help is appreciated.</p>

			</div>
			<div class = "userinfosection"  id = "userinfo-2771" data-toggle = "popover">
				<p>user name : Michele</p>
				<p> user reputation : 180</p>
				<p class = "tagcontent" id = "usertaginfo-2771">{'wheel': 1, 'None': 2, 'inverse-kinematics': 1, 'cameras': 8, 'wheeled-robot': 1, 'tracks': 2, 'kalman-filter': 2, 'mobile-robot': 10}</p>
			</div><br>
			<br><h3>Comments</h3>
				<button data-toggle = 'collapse' data-target = "#commentsection-2771">Load Comments</button></br>
			<div id = "commentsection-2771" class = 'collapse'>
			<div id = "comment-5164" class = "comment">
				<p>Please try to rephrase your question. You are talking about some point P = (xp,yp), then talking about the state Sr (using some (xr, yr) point) and then asking for the relative position of the point P which you never told us what it is. If you cannot define it mathematically, at least try to explain it with words, which points are your talking about. Thanks.</p>
			</div>
			<div id = "comment-5170" class = "comment">
				<p>Thankyou for the feedback, I edited the question, is it a bit clearer now?</p>
			</div>
			</div>
				<textarea id = "speech-2771" rows="3" cols="80"></textarea><br>
				<button class="record-start" id="start-2771">
					<img id="start_img-2771" src="/mic.gif" alt="Start">
				</button>
				<button class = "comment-btn" id = "comment-btn-2771">Comment</button>

<h1>Answers</h1>
			<br><div id = "ans-2789"  class = "post">
				<h2>Answer</h2>
			<div id="vote-2789" class="upvote" style="float:left;">
				<a class="upvote"></a>
				<span class="count">1</span>
				<a class="downvote"></a>
				<a class="star"></a>
			</div>
				<p><p>Let's assume that you know the position of P=(xp,yp) in the initial state.
Let's also assume that you know the transformation matrix t which transforms the initial state of the robot to the next state. Due to the relative nature of positions, you can say that robot is standing still and that the point P is moving. This is exactly what you need as you wish to view everything from robot's own coordinate system. It is not moving relative to itself, but the point P is.</p>

<p>By that we can say:
P'=inverse(T)*P</p>

<p>Regards</p>

<p>Edit: I'm not completely sure that the transformation matrix you wrote is perfectly correct, please check it and edit the post if it's incorrect for future reference (it should hold the difference between the values, not ending values).
Also, keep in mind that the rotation and translation are not commutative so don't let that give you headaches.</p>
</p><br>
			</div>
			<div class = "userinfosection"  id = "userinfo-2789" data-toggle = "popover">
				<p>user name : Damjan Dakic</p>
				<p> user reputation : 650</p>
				<p class = "tagcontent" id = "usertaginfo-2789">{'control': 6, 'None': 32, 'sensor-fusion': 5, 'localization': 5, 'rcservo': 3, 'pid': 6, 'automation': 0, 'servomotor': 3, 'differential-drive': 6, 'design': 3, 'kalman-filter': 5, 'sensors': 5, 'pwm': 3, 'navigation': 6}</p>
			</div><br><h3>Comments</h3><p>no comments yet<p><br>
			<div id = "commentsection-2789" class = 'collapse'>
			</div>
				<textarea id = "speech-2789" rows="3" cols="80"></textarea><br>
				<button class="record-start" id="start-2789">
					<img id="start_img-2789" src="/mic.gif" alt="Start">
				</button>
				<button class = "comment-btn" id = "comment-btn-2789">Comment</button>
			</div>
			<div id = "resourcestab" class = "resourcestab">
				<ul class="nav nav-tabs">
					<li class="active"><a data-toggle="tab" href="#resources">Resources</a></li>
					<li><a data-toggle="tab" href="#summary">Summary</a></li>
				</ul>
					<div class="tab-content">
						<div id="resources" class="tab-pane fade in active">
							<h3>Resources</h3>
							<div id = "resourcescontent"></div>
						</div>
						<div id="summary" class="tab-pane fade">
							<h3>Summary</h3>
							<div id = "summarycontent"></div>
						</div>
			</div>
			</div>
			<footer>Moore & Peps collaboration.</footer>
	</div>
	<script src="/post.js"></script>
	<script type="text/javascript">
		$("#loginmodals").load("/loginModal.html");
		$("#issuemodals").load("/issueModal.html");
		$("#highlight_tool").load("/highlight_tool.html");
		checkLoggedInUser()
		var content = $('.content').html();
		populateResources(content)
		getHighlights()
		setOnLinksHover()
	</script>
	<script src="/media.js"></script>
	<script src="/vote.js"></script>
	<script src="/managefunction.js"></script>
	</body>
</html>